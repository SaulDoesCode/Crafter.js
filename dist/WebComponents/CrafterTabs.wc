{"name":"CrafterTabs","css":"crafter-tabs,crafter-tabs>*,crafter-tabs>*>*{box-sizing:border-box}crafter-tabs{position:relative;width:100%;height:100%;overflow:hidden}crafter-tabs>tab-handles{position:relative;width:100%;height:1cm;display:flex;justify-content:center;align-items:flex-start;align-content:flex-start}crafter-tabs>tab-handles>tab-handle{position:relative;overflow:visible;display:inline-flex;flex:1 1 auto;align-items:center;align-content:center;vertical-align:middle;justify-content:center;cursor:pointer;user-select:none;-webkit-user-select:none;-moz-user-select:none;background:#eaeaea;color:#3f3f3f;box-shadow:0 1px 2px hsla(0,0%,30%,.4);height:1cm;z-index:5;transition:all 150ms ease}crafter-tabs>tab-handles>tab-handle:hover{background:#f4f4f4}crafter-tabs>tab-handles>tab-handle[active]{border-top:2px solid #df1433;background:#fff;box-shadow:0 0 0 #fff;z-index:4}crafter-tabs>tab-views{position:relative;display:inline-block;cursor:default;overflow:auto;width:100%;height:calc(100% - 1cm)}crafter-tabs>tab-views>tab-view[active]{display:block;background:#fff;color:#3f3f3f;width:100%;height:100%}crafter-tabs>tab-views>tab-view{overflow:auto;display:none}","js":"\"use strict\";!function(t,e){Craft.newComponent(\"crafter-tabs\",{created:function(){var t=this,e=this,r=0,i=queryAll(\"tab-view\",this);this.tabs=[],queryEach(\"tab-handle\",this,function(e,r){is.Null(i[r],e)?console.error(\"tab-handles inconsistant with tab-views in \"+t):(t.tabs.push({handle:e,view:i[r]}),e.view=i[r])}),this.handleClick=On(\"click\",this,function(i){is.Node(i.target)&&\"TAB-HANDLE\"===i.target.tagName&&(queryEach(\"[active]\",e,function(t){return t.removeAttribute(\"active\")}),i.target.setActive(),r=t.tabs.indexOf(i.target))}),this.hasAttribute(\"selected\")?(r=parseInt(e.getAttribute(\"selected\"),10),this.tabs[r].handle.setAttribute(\"active\",\"\"),this.tabs[r].view.setAttribute(\"active\",\"\")):(this.tabs[0].handle.setAttribute(\"active\",\"\"),this.tabs[0].view.setAttribute(\"active\",\"\")),this.scrollHandle=On(\"wheel\",query(\"tab-handles\",this),function(i){forEach(queryAll(\"[active]\",e),function(t){return t.removeAttribute(\"active\")}),i.deltaY<1?r--:r++,r>=t.tabs.length?r=0:0>r&&(r=t.tabs.length-1),t.tabs[r].handle.setAttribute(\"active\",\"\"),t.tabs[r].view.setAttribute(\"active\",\"\")})},destroyed:function(){this.scrollHandle.Off(),this.handleClick.Off()},attr:function(t,e,r){if(\"selected\"===t)if(this.hasAttribute(\"selected\")){var i=parseInt(element.getAttribute(\"selected\"),10);this.tabs[i].handle.setAttribute(\"active\",\"\"),this.tabs[i].view.setAttribute(\"active\",\"\")}else this.tabs[0].handle.setAttribute(\"active\",\"\"),this.tabs[0].view.setAttribute(\"active\",\"\")}}),Craft.newComponent(\"tab-handle\",{created:function(){var t=this;this.parentNode.parentNode.tabs.forEach(function(e){e.handle===t&&(t.view=e.view)}),(is.Undef(this.view)||null===this.view)&&console.error(\"No view found for tab-handle\"),this.hasAttribute(\"color-accent\")&&(this.style.borderColor=this.getAttribute(\"color-accent\"))},setActive:function(){this.setAttribute(\"active\",\"\"),this.view.setAttribute(\"active\",\"\")},attr:function(t){\"color-accent\"===t&&this.hasAttribute(\"color-accent\")&&(this.style.borderColor=this.getAttribute(\"color-accent\"))}}),Craft.newComponent(\"tab-view\",{created:function(){this.manageAttributes(\"src\")},attr:function(t,e,r){this.manageAttributes(t)},manageAttributes:function(){for(var t=this,e=arguments.length,r=Array(e),i=0;e>i;i++)r[i]=arguments[i];r.includes(\"src\")&&this.hasAttribute(\"src\")&&!function(){var e=t;if(t.hasAttribute(\"cache-view\"))if(null!==localStorage.getItem(\"craft-tabs:\"+t.getAttribute(\"cache-view\"))){var r=JSON.parse(localStorage.getItem(\"craft-tabs:\"+t.getAttribute(\"cache-view\")));if(e.hasAttribute(\"pre\")){var i=r.source.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\");e.hasAttribute(\"code\")?e.innerHTML=\"<pre><code>\"+i+\"</code></pre>\":e.innerHTML=\"<pre>\"+i+\"</pre>\"}else e.innerHTML=r.source}else t.getAttribute(\"cache-view\").length>=2?fetch(t.getAttribute(\"src\")).then(function(r){r.text().then(function(r){if(e.hasAttribute(\"pre\")){var i=r.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\");e.hasAttribute(\"code\")?e.innerHTML=\"<pre><code>\"+i+\"</code></pre>\":e.innerHTML=\"<pre>\"+i+\"</pre>\"}else e.innerHTML=r;var a=JSON.stringify({url:t.getAttribute(\"src\"),source:r});localStorage.setItem(\"craft-tabs:\"+t.getAttribute(\"cache-view\"),a)})})[\"catch\"](function(t){return log(\"warn\",\"Could not fetch view for tab-view element -> \"+t)}):console.error(\"cache-view must have value longer than 2 characters\");else{fetch(t.getAttribute(\"src\")).then(function(t){return t.text().then(function(t){if(e.hasAttribute(\"pre\")){var r=t.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\");e.hasAttribute(\"code\")?e.innerHTML=\"<pre><code>\"+r+\"</code></pre>\":e.innerHTML=\"<pre>\"+r+\"</pre>\"}else e.innerHTML=t})})[\"catch\"](function(t){return console.warn(\"Could not fetch view for tab-view element -> \"+t)});for(var a=0;a<localStorage.length;a++)localStorage.key(a).includes(\"craft-tabs:\")&&t.getAttribute(\"src\")===JSON.parse(localStorage.getItem(localStorage.key(a))).url&&localStorage.removeItem(localStorage.key(a))}}()}}),Craft.newComponent(\"tab-handles\",{\"extends\":\"div\"}),Craft.newComponent(\"tab-views\",{\"extends\":\"div\"})}(document,self);"}