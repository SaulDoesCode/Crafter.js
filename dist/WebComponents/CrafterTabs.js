'use strict';Craft.addCSS("crafter-tabs,crafter-tabs>*,crafter-tabs>*>*{box-sizing:border-box}crafter-tabs{position:relative;width:100%;height:100%;overflow:hidden}crafter-tabs>tab-handles{position:relative;width:100%;height:1cm;display:flex;justify-content:center;align-items:flex-start;align-content:flex-start}crafter-tabs>tab-handles>tab-handle{position:relative;overflow:visible;display:inline-flex;flex:1 1 auto;align-items:center;align-content:center;vertical-align:middle;justify-content:center;cursor:pointer;user-select:none;-webkit-user-select:none;-moz-user-select:none;background:#eaeaea;color:#3f3f3f;box-shadow:0 1px 2px hsla(0,0%,30%,.4);height:1cm;z-index:5;transition:all 150ms ease}crafter-tabs>tab-handles>tab-handle:hover{background:#f4f4f4}crafter-tabs>tab-handles>tab-handle[active]{border-top:2px solid #df1433;background:#fff;box-shadow:0 0 0 #fff;z-index:4}crafter-tabs>tab-views{position:relative;display:inline-block;cursor:default;overflow:auto;width:100%;height:calc(100% - 1cm)}crafter-tabs>tab-views>tab-view[active]{display:block;background:#fff;color:#3f3f3f;width:100%;height:100%}crafter-tabs>tab-views>tab-view{overflow:auto;display:none}");
"use strict";
(function(e,f){Craft.newComponent("crafter-tabs",{created:function(){var a=this,b=0,c=queryAll("tab-view",a);a.tabs=[];queryEach("tab-handle",a,function(b,d){is.Null(c[d],b)?console.error("tab-handles inconsistant with tab-views in \t",a):(a.tabs.push({handle:b,view:c[d]}),b.view=c[d])});a.handleClick=a.Click(function(c){is.Node(c.target)&&"TAB-HANDLE"===c.target.tagName&&(queryEach("[active]",a,function(b){b.removeAttribute("active")}),c.target.setActive(),b=a.tabs.indexOf(c.target))});a.hasAttr("selected")?
(b=parseInt(a.getAttr("selected"),10),a.tabs[b].handle.setAttribute("active",""),a.tabs[b].view.setAttribute("active","")):(a.tabs[0].handle.setAttribute("active",""),a.tabs[0].view.setAttribute("active",""));a.scrollHandle=On("wheel","tab-handles",a,function(c){queryEach("[active]",a,function(b){return b.removeAttribute("active")});1>c.deltaY?b--:b++;c.preventDefault();b>=a.tabs.length?b=0:0>b&&(b=a.tabs.length-1);a.tabs[b].handle.setAttribute("active","");a.tabs[b].view.setAttribute("active","")})},
destroyed:function(){this.scrollHandle.Off;this.handleClick.Off},attr:function(a,b,c){"selected"===a&&(this.hasAttribute("selected")?(a=parseInt(this.getAttribute("selected"),10),this.tabs[a].handle.setAttribute("active",""),this.tabs[a].view.setAttribute("active","")):(this.tabs[0].handle.setAttribute("active",""),this.tabs[0].view.setAttribute("active","")))}});Craft.newComponent("tab-handle",{created:function(){var a=this;this.parentNode.parentNode.tabs.forEach(function(b){b.handle===a&&(a.view=
b.view)});(is.Undef(this.view)||null===this.view)&&console.error("No view found for tab-handle");this.hasAttribute("color-accent")&&(this.style.borderColor=this.getAttribute("color-accent"))},setActive:function(){this.setAttr("active");this.view.setAttribute("active","")},attr:function(a){"color-accent"==a&&this.hasAttribute("color-accent")&&(this.style.borderColor=this.getAttribute("color-accent"))}});Craft.newComponent("tab-view",{created:function(){this.manageAttributes("src")},attr:function(a,
b,c){this.manageAttributes(a)},manageAttributes:function(a){var b=this;"src"===a&&this.hasAttr("src")&&function(){if(b.hasAttr("cache-view"))if(null!==localStorage.getItem("craft-tabs:"+b.getAttr("cache-view"))){var a=JSON.parse(localStorage.getItem("craft-tabs:"+b.getAttr("cache-view")));b.hasAttr("pre")?(a=txt.replace(/&/g,"&amp;").replace(/</g,"&lt;"),b.html(b.hasAttr("code")?"<pre><code>"+a+"</code></pre>":"<pre>"+a+"</pre>")):b.html(a.source)}else 2<b.getAttr("cache-view").length?fetch(b.getAttr("src")).then(function(a){return a.text().then(function(a){if(b.hasAttr("pre")){var c=
a.replace(/&/g,"&amp;").replace(/</g,"&lt;");b.html(b.hasAttr("code")?"<pre><code>"+c+"</code></pre>":"<pre>"+c+"</pre>")}else b.html(a);localStorage.setItem("craft-tabs:"+b.getAttr("cache-view"),JSON.stringify({url:b.getAttr("src"),source:a}))})}).catch(function(a){console.warn("Couldn't fetch tab-view src -> "+a)}):console.error("cache-view must have longer value");else for(fetch(b.getAttr("src")).then(function(a){return a.text().then(function(a){b.hasAttr("pre")?(a=a.replace(/&/g,"&amp;").replace(/</g,
"&lt;"),b.html(b.hasAttr("code")?"<pre><code>"+a+"</code></pre>":"<pre>"+a+"</pre>")):b.html(a)})}).catch(function(a){return console.warn("Couldn't fetch tab-view src -> "+a)}),a=0;a<localStorage.length;a++)localStorage.key(a).includes("craft-tabs:")&&b.getAttr("src")===JSON.parse(localStorage.getItem(localStorage.key(a))).url&&localStorage.removeItem(localStorage.key(a))}()}});Craft.newComponent("tab-handles",{extends:"div"});Craft.newComponent("tab-views",{extends:"div"})})(document,self);
