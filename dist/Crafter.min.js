'use strict';var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"===typeof Symbol&&p.constructor===Symbol?"symbol":typeof p};
(function(p,v){function A(a,b){function c(){var f=q(arguments);return f.length<d?function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return c.apply(null,f.concat(b))}:a.apply(b||this,f)}var d=a.length;return c}function Y(a){return p.createRange().createContextualFragment(a||"")}function C(a,b){return toString.call(a)===b}function I(a,b){if(k(b)){var c=0;if(h.Arraylike(a)&&!localStorage)for(;c<a.length;c++)b(a[c],c,a);else if(h.int(a)&&!l(a))for(;a!=c;)b(c++);else for(c in a)a.hasOwnProperty(c)&&
b(a[c],c,a)}}function S(a){q(arguments,1).map(function(b){for(var c in b)D(a,c,Z(b,c))});return a}function aa(){var a=new Map,b={delete:function(c,d){if(b.has(c,d)){var f=a.get(c);f.size||a.delete(c);f.has(d)&&f.delete(d)}},set:function(b,d,f){k(d)&&(a.has(b)||a.set(b,new Set),!0===f&&(d.__isOnce=!0),a.get(b).add(d))},get:function(b){return a.get(b)},has:function(b,d){return 0<a.size&&a.has(b)&&a.get(b).has(d)},loop:function(b,d){0<a.size&&a.has(b)&&function(){var f=a.get(b);f.forEach(function(a){d(a);
!0===a.__isOnce&&f.delete(a)})}()},makeHandle:function(a,d){if(!k(d))throw new TypeError("eventsys : listener needs a function");return{on:function(){x(a)?a.map(function(a){b.set(a,d)}):b.set(a,d);return this},once:function(){x(a)?a.map(function(a){b.set(a,d,!0)}):b.set(a,d,!0);return this},off:function(){x(a)?a.map(function(a){b.delete(a,d)}):b.delete(a,d);return this}}}};return b}function M(a){a||(a={});var b=aa(),c=!1;a.on=function(a,c){return b.makeHandle(a,c).on()};a.once=function(a,c){return b.makeHandle(a,
c).once()};a.off=function(a,c){return b.makeHandle(a,c).off()};a.emit=function(d){var f=arguments;if(!c&&l(d))(function(){var c=q(f,1);b.loop(d,function(b){b.apply(a,c)})})();else throw new TypeError("eventsys : you cannot emit that! "+d);};a.stopall=function(a){return c=h.Bool(a)?a:!0};a.defineHandle=function(b,c){c||(c=b);a[b]=function(b,d){return a[d?"once":"on"](c,b)}};return a}function J(a){a||(a={});a=M(a);var b=aa();D(a,"isObservable",N(!0));["$get","$set"].map(function(c){var f="$get"==c?
"Get":"Set";D(a,c,N(function(a,c){k(a)&&(c=a,a="*");if(!k(c))throw Error("."+a+" no function");c.prop=l(a)?a:"*";return b.makeHandle(f,c).on()}))});D(a,"get",N(function(c){if("get"!=c&&"set"!=c){var f=void 0;b.loop("Get",function(b){if("*"===b.prop||b.prop===c)f=b(c,a)});return void 0!=f?f:a[c]}return a[c]}));D(a,"set",N(A(function(c,f){var e=void 0;b.loop("Set",function(b){"*"!==b.prop&&b.prop!==c||b(c,f,a,Object.hasOwnProperty(a,c))});e=void 0!=e?e:f;n(e)&&!e.isObservable&&(e=J(e));a[c]=e;a.emit("$uberset:"+
c,e)})));for(var c in a)n(a[c])&&!a[c].isObservable&&(a[c]=J(a[c]));if("undefined"!=typeof Proxy)return new Proxy(a,{get:function(a,c){if("get"!=c&&"set"!=c){var e=void 0;b.loop("Get",function(b){if("*"===b.prop||b.prop===c)e=b(c,a)});return void 0!=e?e:Reflect.get(a,c)}return Reflect.get(a,c)},set:function(a,c,e){var z=void 0,g=!1;b.loop("Set",function(b){if("*"===b.prop||b.prop===c)g?(e=z,g=!1):g=!0,z=b(c,e,a,!Reflect.has(a,c))});z=void 0!=z?z:e;n(z)&&!z.isObservable&&(z=J(z));a.emit("$uberset:"+
c,z);return Reflect.set(a,c,z)}});console.warn("This JavaScript Environment does not support Proxy, observables need to use the .set and .get accessors to work");return a}function B(a,b){l(b)&&(b=p.querySelector(b));return h.Node(b)?b.querySelector(a):p.querySelector(a)}function G(a,b){l(b)&&(b=G(b));var c=void 0;if(h.Arraylike(b)&&1<b.length)c=[],E(b,function(b){l(b)&&(b=B(b));h.Node(b)&&(b=G(a,b),h.NodeList(b)&&c.concat(b))});else if(c=h.Node(b)?b:h.NodeList(b)?b[0]:p)if(c=c.querySelectorAll(a),
null!=c)return q(c);return null}function O(a,b,c,d){k(b)&&(c=b,b=void 0);a=G(a,b);h.Arraylike(a)&&a.forEach(c);if(d)return a}function la(a,b,c){var d=function(f){return function(d){return P(f,a,d,b)[c||"on"]()}};return{Click:d("click"),Input:d("input"),DoubleClick:d("dblclick"),Focus:d("focus"),Blur:d("blur"),Keydown:d("keydown"),Mousemove:d("mousemove"),Mousedown:d("mousedown"),Mouseup:d("mouseup"),Mouseover:d("mouseover"),Mouseout:d("mouseout"),Mouseenter:d("mouseenter"),Mouseleave:d("mouseleave"),
Scroll:d("scroll")}}function K(a){return function(b,c){return function(d){d.keyCode===a&&b.apply(c||this,arguments)}}}function ba(a){return function(b,c,d,f){var e=q(arguments);return k(c)?P(b,v,c)[a]():3>e.length&&!e.some(k)?la(b,c,a):k(d)?P(b,c,d)[a]():P(b,c,f,d)[a]()}}function ca(a){a=Array.prototype.map.call(a,function(a){return r(a)});x(a)||Q(Object.getOwnPropertyNames(Array.prototype),"length").map(function(b){a[b]=Array.prototype[b]});a.on=function(b,c){return w(b,a,c)};a.css=function(b){return g.css(a,
b)};a.addClass=function(b){a.map(function(a){a.classList.add(b)});return a};a.gotClass=function(){var b=q(arguments);return a.every(function(a){return b.every(function(b){return a.classList.contains(b)})})};a.gotSomeClass=function(){var b=q(arguments);return a.some(function(a){return b.every(function(b){return a.classList.contains(b)})})};a.stripClass=function(b){a.map(function(a){a.classList.remove(b)});return a};a.toggleClass=function(b,c){a.map(function(a){a.toggleClass(b,c)});return a};a.stripAttr=
function(){var b=arguments;a.map(function(a){a.stripAttr.apply(a,b)});return a};a.hasAttr=function(b){if(1==arguments.length&&l(b))return a.every(function(a){return a.hasAttribute(b)});var c=g.flatten(arguments);return a.every(function(a){return c.every(function(b){return a.hasAttribute(b)})})};a.toggleAttr=function(b,c,d){a.map(function(a){a.toggleAttr(b,c)});return d?a.hasAttr(b):a};a.setAttr=function(){var b=arguments;a.map(function(a){a.setAttr.apply(a,b)});return a};a.append=function(){var b=
arguments;a.map(function(a){a.append.apply(a,b)});return a};a.appendTo=function(b,c){a.map(function(a){a.appendTo(b,c)});return a};a.prepend=function(){var b=arguments;a.map(function(a){a.prepend.apply(a,b)});return a};a.hide=function(){return a.css({display:"none"})};a.show=function(){return a.css({display:""})};a.pick=function(b){if(h.int(b)&&t(a[b]))return r(a[b]);if(a.includes(b))return r(b)};return a}function da(a,b){a=b.isInput?"value":a;return function(){if(!arguments.length)return b[a];b[a].length&&
(b[a]="");g.flatten(arguments).map(function(c){h.Node(c)?b.append(c):b[a]+=k(c)?c.call(b):c});return b}}function ma(a,b,c){D(this,a,{set:b,get:c})}function T(a,b){function c(b){return function(c,d){return(d?U:w)(b,a,c)}}l(a)&&(a=B(a,b));if(1==a._DOMM)return a;a._DOMM=!0;a.isInput=h.Input(a);a.state||(a.state=M());a.newSetGet=ma;a.newSetGet("colorAccent",function(b){a.hasAttr("color-accent")&&k(b)&&b(a.getAttr("color-accent"))});a.html=da("innerHTML",a);a.Text=da("textContent",a);a.bind=function(b){if(!b.includes(".")){if(t(v[b]))a.html(v[b]);
else{var c=a.html();c&&g.setDeep(v,b,c)}a.isInput&&a.SyncInput(v,b,function(a){O("[bind="+b+"]",function(b){void 0!=a&&b.html(a)})});return a}var d=L(b);if(!v[d[0]])g.modelInit(d[0]).then(function(b){var c=b;d=q(d,1);d.map(function(f){if(f in c){var d=c.get(f);h.Def(d)&&d.isObservable?c=d:f===ea(f)&&(a.html(d),a.state.binder=c.on("$uberset:"+f,a.html),a.isInput&&a.SyncInput(c,f))}else b.set(f,a.html()),a.state.binder=b.on("$uberset:"+f,a.html),a.isInput&&a.SyncInput(b,f)})});else if(n(v[d[0]])){var c=
v[d[0]],R=V(q(d,1)),k=g.getDeep(c,R);h.Def(k)?a.html(k):g.setDeep(c,R);a.isInput&&a.SyncInput(c,R,function(a){void 0!=a&&O("[bind="+b+"]",function(b){b.html(a)})})}return a};a.unbind=function(b){a.state.binder&&(a.state.binder.off(),delete a.state.binder)};a.lifecycle={inserted:function(b){return a.state.once("attached",function(c){b.call(a,a)})},created:function(b){return a.state.once("created",function(c){b.call(a,a)})},destroyed:function(b){return a.state.once("destroyed",function(c){b.call(a,
a)})},attr:function(b,c){k(b)&&(c=b);return a.state.on("attr"+(l(b)?":"+b:""),c.bind(a))}};a.replace=function(b){a.parentNode.replaceChild(b,a);return a};a.clone=function(b){return T(a.cloneNode(void 0==b?!0:b))};a.importview=function(b,c){var d=a.hasAttr("cache-view");if(d){var g=localStorage.getItem(b);if(!fa(g)){a.html(g);return}}fetch(b,c||{mode:"cors",credentials:"same-origin"}).then(function(c){c.ok?c.text().then(function(c){d&&localStorage.setItem(b,c);a.html(c)}):console.warn("<"+a.localName+
"> : unable to import view - "+b)})};a.append=function(){var b=r.frag();g.flatten(arguments).map(function(a){h.Node(a)?b.appendChild(a):b.innerHTML+=a});a.appendChild(b);return a};var d=a.prepend.bind(a);a.prepend=function(){var b=r.frag();g.flatten(arguments).map(function(a){h.Node(a)?b.appendChild(a):b.innerHTML+=a});k(d)?d(b):a.insertBefore(b,a.firstChild);return a};a.appendTo=function(b,c){l(b)&&(b=B(b,c));h.Node(b)&&b.appendChild(a);return a};a.prependTo=function(b,c){l(b)&&(b=B(b,c));h.Node(b)&&
b.insertBefore(a,b.firstChild);return a};a.modify=function(b){b.call(a,a);return a};a.on=function(b,c){return w(b,a,c)};a.emit=a.state.emit;a.Click=c("click");a.Input=c("input");a.DoubleClick=c("dblclick");a.Focus=c("focus");a.Blur=c("blur");a.Keydown=c("keydown");a.Mousemove=c("mousemove");a.Mousedown=c("mousedown");a.Mouseup=c("mouseup");a.Mouseover=c("mouseover");a.Mouseout=c("mouseout");a.Mouseenter=c("mouseenter");a.Mouseleave=c("mouseleave");a.onScroll=function(b,c){return g.onScroll(a,b,c)};
a.Hover=function(b){var c=[],d=!1;c.push(w("mouseenter,mouseover",a,function(a,c){!1===d&&b(d=!0,a,c)}));c.push(w("mouseleave,mouseout",a,function(a,c){!0===d&&b(d=!1,a,c)}));return{off:function(){c=c.map(function(a){return a.off()});return this},on:function(){c=c.map(function(a){return a.on()});return this}}};a.css=function(b,c){return g.css(a,b,c)};a.gotClass=function(){return q(arguments).every(function(b){return a.classList.contains(b)})};a.addClass=function(){E(arguments,function(b){a.classList.add(b)});
return a};a.stripClass=function(){E(arguments,function(b){a.classList.remove(b)});return a};a.toggleClass=function(b,c){h.Bool(c)||(c=a.gotClass(b));a.classList[c?"remove":"add"](b);return a};a.stripAttr=function(){E(arguments,a.removeAttribute.bind(a));return a};a.hasAttr=function(){return l(arguments[0])?a.hasAttribute(arguments[0]):q(arguments).every(a.hasAttribute)};a.setAttr=function(b,c){t(c)?a.setAttribute(b,c||""):l(b)?b.includes("=")||b.includes("&")?b.split("&").forEach(function(b){t(b.split("=")[1])?
a.setAttribute(b.split("=")[0],b.split("=")[1]):a.setAttribute(b.split("=")[0],"")}):a.setAttribute(b,""):n(b)&&I(b,function(b,c){a.setAttribute(c,b)});return a};a.getAttr=a.getAttribute;a.attr=function(b,c){return l(b)&&!t(c)?a.getAttr(b):a.setAttr(b,c)};a.prop=a.hasAttr;a.toggleAttr=function(b,c,d){a[((h.Bool(c)?!c:a.hasAttr(b))?"strip":"set")+"Attr"](b,c);return d?a.hasAttr(b):a};a.remove||(a.remove=function(){a.parentNode.removeChild(a)});a.removeAfter=function(b){setTimeout(a.remove.bind(a),
b||5E3);return a};D(a,"Siblings",{get:function(){return Q(a.parentNode.children,a).filter(F)}});a.getRect=a.getBoundingClientRect;a.newSetGet("Width",function(b){a.style.width=b},function(){return a.getRect().with});a.newSetGet("Height",function(b){a.style.height=b},function(){return a.getRect().height});a.move=function(b,c,d){!0===d?a.style.transform="translateX("+b+"px) translateY("+c+"px)":(a.top=c+"px",a.left=b+"px")};a.query=function(b){return B(b,a)};a.queryAll=function(b){return G(b,a)};a.next=
function(b,c){var d=q(a.parentNode.children),g=d.indexOf(a)+1;return d[g]?c?r(d[g]):d[g]:b?c?r(d[0]):d[0]:null};a.previous=function(b,c){var d=q(a.parentNode.children),g=d.indexOf(a)-1;return d[g]?c?r(d[g]):d[g]:b?c?r(d[d.length-1]):d[d.length-1]:null};a.isInput&&(a.SyncInput=function(b,c,d){return g.SyncInput(a,b,c,d)},a.disconectInputSync=function(){return g.disconectInputSync(a)});a.observe=function(b,c,d){l(d)||(d="MutObserver");a[d]=new MutationObserver(function(a){a.map(function(a){b(a,a.type,
a.target,a.addedNodes,a.removedNodes)})});a[d].observe(a,c||{attributes:!0,childList:!0,subtree:!0});return a};a.unobserve=function(b){l(b)||(b="MutObserver");t(a[b])&&(a[b].disconnect(),delete a[b]);return a};return a}function r(a,b,c){if(l(a)&&(a=c?B(a,b):G(a,b),h.NodeList(a))){if(1<a.length)return ca(a);1==a.length&&(a=a[0])}return h.Node(a)?a._DOMM?a:T(a):h.NodeList(a)?ca(a):u}function ga(a,b,c,d,f){if(g.Directives.has(b)){var e=g.Directives.get(b);f&&c!=d?(a=r(a),h.Set(a.state.directives)||(a.state.directives=
new Set),a.state.directives.has(b)?e.update&&e.update.call(a,a,c,f):(a.state.directives.add(b),e.bind.call(a,a,c))):!f&&e.unbind&&e.unbind.call(a,a,c,d)}a.state&&(a.state.emit("attr",b,c,d,f),a.state.emit("attr:"+b,b,c,d,f))}function ha(){ia=!0;g.notifier.emit("ready")}var ia=!1,m=navigator.userAgent,ja=void 0,H=m.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);H&&null!==(ja=m.match(/version\/([\.\d]+)/i))&&(H[2]=ja[1]);var H=(H?[H[1],H[2]]:[navigator.appName,navigator.appVersion,
"-?"]).join(" "),q=function(a,b){return a.slice?a.slice(b||0):Array.prototype.slice.call(a,b||0)},m=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return 1<=c.length&&c.every(a)}},ea=function(a){return a[a.length-1]},Q=function(a,b){b=a.indexOf(b);return-1<b?a.splice(b,1):a},ka=function(a){return Array.isArray(a)?a:"undefined"!=typeof a.length?Array.from(a):[a]};new Event("destroy");var D=Object.defineProperty,Z=Object.getOwnPropertyDescriptor,t=
m(function(a){return"undefined"!==typeof a}),fa=m(function(a){return null===a}),k=function(a){return"function"===typeof a},l=function(a){return"string"===typeof a},n=function(a){return"[object Object]"===toString.call(a)},F=function(a){return a.toString().includes("HTML")},x=Array.isArray,W=function(){return ia||"complete"==p.readyState},na=function(){},X=p.head,oa=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
pa=/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,qa=/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,ra=/^[0-9a-fA-F]+$/,sa=/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,N=function(a,b,c){return{value:a,write:h.Bool(b)?b:!1,enumerable:h.Bool(c)?c:!1}},E=A(function(a,b){if(h.Arraylike(a))return Array.prototype.map.call(a,b);Object.keys(a).map(function(c){var d=a.isObservable?a.get(c):a[c],f=b(d,c,a);void 0!=d&&d!=f&&(a.isObservable?a.set(c,f):a[c]=f)});return a}),L=function(a){return a.split(".")},
V=function(a){return q(a).join(".")},h={Bool:m(function(a){return"boolean"===typeof a}),Str:l,String:m(l),Arr:m(x),Array:x,Arraylike:m(function(a){try{return t(a.length)}catch(b){}return!1}),Undef:function(){return!t.apply(this,arguments)},Def:t,Null:m(function(a){return null===a}),Node:m(function(a){return a instanceof Node}),Tag:function(a,b){return F(a)?a.tagName===b.toUpperCase():!1},NodeList:m(function(a){return a instanceof NodeList||h.Arraylike(a)&&!h.empty(a)?Array.prototype.every.call(a,
function(a){return a instanceof Node}):!1}),Num:m(function(a){return!isNaN(Number(a))}),Object:m(n),Obj:n,Json:m(function(a){try{return JSON.parse(a),!0}catch(b){}return!1}),Element:m(F),File:m(function(a){return C(a,"[object File]")}),FormData:m(function(a){return C(a,"[object FormData]")}),Map:m(function(a){return C(a,"[object Map]")}),Func:m(k),True:m(function(a){return!0===a}),False:m(function(a){return!a}),Blob:m(function(a){return C(a,"[object Blob]")}),RegExp:m(function(a){return C(a,"[object RegExp]")}),
Date:m(function(a){return C(a,"[object Date]")}),Set:m(function(a){return C(a,"[object Set]")}),Args:function(a){return!fa(a)&&C(a,"[object Arguments]")},Symbol:m(function(a){return C(a,"[object Symbol]")}),char:m(function(a){return l(a)&&1==a.length}),space:m(function(a){return h.char(a)&&8<a.charCodeAt(0)&&14>a.charCodeAt(0)||32===a.charCodeAt(0)}),Uppercase:function(a){return l(a)&&!h.Num(a)&&a===a.toUpperCase()},Lowercase:function(a){return l(a)&&a===a.toLowerCase()},Alphanumeric:function(a){return/^[0-9a-zA-Z]+$/.test(a)},
email:function(a){return oa.test(a)},URL:function(a){try{return new URL(a),!0}catch(b){}return!1},HexColor:function(a){return sa.test(a)},hexadecimal:function(a){return ra.test(a)},today:function(a){return h.Date(a)&&a.toDateString()===(new Date).toDateString()},yesterday:function(a){if(h.Date(a)){var b=new Date;return a.toDateString()===(new Date(b.setDate(b.getDate()-1))).toDateString()}return!1},tomorrow:function(a){if(h.Date(a)){var b=new Date;return h.Date(a)&&a.toDateString()===(new Date(b.setDate(b.getDate()+
1))).toDateString()}return!1},past:function(a){try{h.Date(a)||(a=l(a)?new Date(h.Num(a)?Number(a):a):new Date(a))}catch(b){}return h.Date(a)&&a.getTime()<(new Date).getTime()},future:function(a){return!h.past(a)},time:function(a){return pa.test(a)},dateString:function(a){return qa.test(a)},between:A(function(a,b,c){return a<=b&&a>=c}),int:function(a){return h.Num(a)&&0===a%1},even:function(a){return h.Num(a)&&0===a%2},odd:function(a){return h.Num(a)&&0!==a%2},positive:function(a){return h.Num(a)&&
0<a},negative:function(a){return h.Num(a)&&0>a},neither:function(a){return q(arguments,1).every(function(b){return a!==b})},eq:A(function(a,b){return a===b}),or:A(function(a,b){return a||b}),lt:A(function(a,b){return a<b}),lte:A(function(a,b){return a<=b}),bt:A(function(a,b){return a>b}),bte:A(function(a,b){return a>=b}),empty:m(function(a){try{return!(n(a)?Object.keys(a).length:h.Map(a)||h.Set(a)?a.size:a.length)||""===a}catch(b){}return!1}),Native:function(a){var b="undefined"===typeof a?"undefined":
_typeof(a);return k(a)?RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$").test(Function.prototype.toString.call(a)):a&&"object"==b&&/^\[object .+?Constructor\]$/.test(a.toString)||!1},Input:function(a){return F(a)&&["INPUT","TEXTAREA"].some(function(b){return a.tagName.includes(b)})}},P=function(a,b,c,d){return new function(){var f=this;f.state=!1;b=b!==v&&b!==p&&l(b)?G(b,d):x(b)?g.flatten(b):
[b];l(a)&&a.includes(",")&&(a=a.split(","));x(a)||(a=[a]);var e=function(a){return c(a,a.target,b)};D(f,"Type",{set:function(b){ehdl.off();a=b.includes(",")?b.split(","):b;x(a)||(a=[a]);ehdl.on()},get:function(){return a},enumerable:!0});f.on=function(){b.map(function(b){a.map(function(a){b.addEventListener(a,e)})});f.state=!0;return f};f.off=function(){b.map(function(b){a.map(function(a){b.removeEventListener(a,e)})});f.state=!1;return f};f.once=function(){e=function(a){c(a,a.target,b);f.off();f.state=
!1};return f.on()}}},w=ba("on"),U=ba("once"),ta="Click Input DoubleClick Focus Blur Keydown Mousemove Mousedown Mouseup Mouseover Mouseout".split(" "),y={handles:new Map,hasTag:function(a){return y.handles.has(a.toLowerCase())},attached:function(a){var b=y.handles.get(a.tagName.toLowerCase());b.attached&&b.attached.call(a,a)},destroyed:function(a){var b=y.handles.get(a.tagName.toLowerCase());b.destroyed&&b.destroyed.call(a,a)},created:function(a){var b=y.handles.get(a.tagName.toLowerCase());b.created&&
b.created.call(a,a)}},u={element:function(a,b,c,d,f){var e=T(p.createElement(a));n(b)&&(c=b,b=void 0);void 0!=b&&e.html(b);if(n(c)||l(c))n(c)&&Object.keys(c).forEach(function(a){if(k(c[a]))if(ta.some(h.eq(a)))(function(){var b=c[a];"DoubleClick"==a?a="dblclick":a=a.toLowerCase();e[a+"handle"]=w(a,e,function(){b.apply(e,arguments)});delete c[a]})();else if("created"===a){if(k(c[a]))c[a]();e.state.emit("created");delete c[a]}}),e.setAttr(c);void 0!=d&&(h.Bool(d)?f=d:e.setAttr(d));f&&(e=e.outerHTML);
F(e)&&y.hasTag(e.tagName)&&y.created(e);return e},frag:function(a){var b=void 0;l(a)&&(b=Y(a));h.Node(b)||(b=p.createDocumentFragment());h.Node(a)&&b.appendChild(a);return b},img:function(a,b,c){return u.element("img","",c,{src:a,alt:b})},input:function(a,b){n(a)&&(b=a,a="text");return u.element("input","",b,{type:a||"text"})},list:function(a,b,c){var d="";h.Arrylike(b)&&E(b,function(a){l(a)?d+=u.element("li",a).outerHTML:n(b)&&(d+=u.element("li",a.inner,a.attr).outerHTML)});return u.element(a,d,
c)},a:function(a,b,c){return u.element("a",b,c,"href="+a)},script:function(a,b,c,d,f){var e=u.element("script","",b,{type:"text/javascript"});if("src="===a.slice(0,4))return e.setAttr(a);k(d)&&(e.onload=function(){e.removeAttribute("initx");d()},b=g.randomInt(1E3),e.setAttribute("initx",b),a+="\ndocument.head.querySelector('script[initx=\""+b+"\"]').dispatchEvent(new UIEvent('load'));\n");1==c&&(e.defer=0!=c);1==f?e.text=a:e.src=g.URLfrom(a,{type:"text/javascript"});return e}};"table td th tr article aside ul ol li h1 h2 h3 h4 h5 h6 div span pre code section button br label header i style nav menu main menuitem".split(" ").map(function(a){u[a]=
function(b,c,d){return u.element(a,b,c,d)}});r=S(r,u);v.Proxy&&(r=new Proxy(r,{get:function(a,b){return a.hasOwnProperty(b)?a[b]:u.hasOwnProperty(b)?u[b]:function(a,d,f,e){return u.element(b,a,d,f,e)}}}));var g={notifier:M(),arrDiff:function(a,b,c){var d=b.filter(function(b){if(!a.includes(b))return b}),f=a.filter(function(a){if(b.includes(a))return a}),e=g.omit(f.concat(d),void 0);if(k(c)&&!h.empty(e))c(a,b,d,f,e);else return{added:d,same:f,diff:e,arr:a,arrb:b}},deglove:function(a){return h.Arraylike(a)&&
1==a.length?a[0]:a},last:ea,first:function(a){return a[0]},removeFrom:Q,slice:q,cutdot:L,joindot:V,dffstr:Y,toArr:ka,toInt:function(a){l(a)&&(a=Number(a));return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},observable:J,eventsys:M,dom:r,query:B,queryAll:G,queryEach:O,forEach:I,map:E,on:w,once:U,is:h,has:function(a,b,c){if(h.Arraylike(a))return q(a)[c?"some":"every"](a.includes.bind(a));if(n(a))return Object.prototype.hasOwnProperty.call(a,b);if(h.Set(a)||h.Map(a))return a.has(b)},
curry:A,concatObjects:S,UnHTML:function(a){return a.replace(/<script[^>]*?>.*?<\/script>/gi,"").replace(/<style[^>]*?>.*?<\/style>/gi,"").replace(/<![\s\S]*?--[ \t\n\r]*>/gi,"")},sameArray:function(a,b){var c=a.length;if(c!==b.length)return!1;for(;c--;)if(a[c]!==b[c])return!1;return!0},array:function(a){var b=[],c=q(arguments,1);if(1==c.length)for(;0<a;a--)b.push(k(c[0])?c[0]():c[0]);else for(;0<a;a--)b.push(g.array(c.length,c));return b},getAllKeys:function(a){var b=[];do b=b.concat(Object.getOwnPropertyNames(a));
while(a=Object.getPrototypeOf(a));return b},unique:function(a){return ka((new Set)(g.flatten(a)))},flatten:function(a){return Array.prototype.reduce.call(a,function(a,c){return a.concat(x(c)?g.flatten(c):c)},[])},getDeep:function(a,b){try{return L(b.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"")).map(function(b){b in a?a=a.isObservable?a.get(b):a[b]:a=void 0}),a}catch(c){}},setDeep:function(a,b,c){try{(function(){b=L(b);var d=b.length-1;b.map(function(b,e){void 0==a[b]&&(a.isObservable?a.set(b,{}):
a[b]={});d==e?a.isObservable?a.set(b,c):a[b]=c:a=a[b]})})()}catch(d){console.warn("Craft.setDeep : ran into some trouble setting "+b,d)}},forEachDeep:function(a,b,c){c=c||"";var d,f,e=void 0,h=void 0;for(h in a)a.hasOwnProperty(h)&&(e=a[h]),d=c,x(a)?d+="["+h+"]":d?d+="."+h:d=h,(f=0==b(e,h,a,d))&&(x(e)||n(e))&&g.forEachDeep(e,b,d)},URLfrom:function(a,b){return URL.createObjectURL(new Blob([a],b))},checkStatus:function(a){if(200<=a.status&&300>a.status)return a;var b=Error(a.statusText);b.response=
a;throw b;},completeAssign:function(a){q(arguments,1).map(function(a){var c=Object.keys(a).reduce(function(c,f){c[f]=Object.getOwnPropertyDescriptor(a,f);return c},{});Object.getOwnPropertySymbols(a).map(function(d){var f=Object.getOwnPropertyDescriptor(a,d);f.enumerable&&(c[d]=f)});Object.defineProperties(target,c)});return target},clone:function(a){return n(a)?Object.create(a):Array.from(a)},omitFrom:function(a){var b=q(arguments,1);l(a)?b.map(function(b){for(;a.includes(b);)a=a.replace(b,"")}):
b.map(function(b){return a=Q(a,b)});return a},omit:function(a){h.Arraylike(a)&&(a=g.omitFrom.apply(this,arguments));var b=q(arguments,1);n(a)&&!b.includes(a)&&I(a,function(c,d){b.some(function(a){return a==c||a==d})&&delete a[d]});return a},dropDupes:function(a){return a.filter(function(a,c,d){return d.indexOf(a)===c})},isBrowser:function(a){return H.toLowerCase().includes(a.toLowerCase())},browser:H,router:{handle:function(a,b){var c=location.hash;c===a&&b(a,c);return g.notifier.on(a,b)},open:function(a,
b){b?open(a):location=a},set title(a){p.title=a},get title(){return p.title}},Cookies:{get:function(a){return decodeURIComponent(p.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(a,b,c,d,f,e){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";c&&(h.Num(c)&&(g=Infinity==c?"; expires=Fri, 11 April 9997 23:59:59 UTC":"; max-age="+c),l(c)&&(g="; expires="+c),h.Date(c)&&
(g="; expires="+c.toUTCString()));p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(f?"; domain="+f:"")+(d?"; path="+d:"")+(e?"; secure":"");return!0},has:function(a){return void 0!=a&&(new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(p.cookie)},remove:function(a,b,c){if(!g.Cookies.has(a))return!1;p.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:"");return!0},keys:function(){return p.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,
"").split(/\s*(?:\=[^;]*)?;\s*/).map(decodeURIComponent)}},Socket:function(a,b){if(!h.URL(a)){var c=a.match(/^(\/.*?)?$/);if(h.empty(c))throw Error("invalid url");a=location.host+c[0]}a.includes("ws://")||a.includes("wss://")||(a=("http:"===location.protocol?"ws://":"wss://")+a);if(h.URL(a)&&(c=function(){var c={socket:null,open:!1,recievers:[],message:"",set send(a){1==c.socket.readyState?c.socket.send(n(a)?JSON.stringify(a):a):function(){var b=setInterval(function(){1==c.socket.readyState&&(c.socket.send(n(a)?
JSON.stringify(a):a),clearInterval(b))},10);setTimeout(clearInterval.bind(null,b),2E3)}()},set recieve(a){k(a)&&c.recievers.push(a)},get recieve(){return c.message},close:function(){c.socket.close()},reopen:function(){f(c.open?c.socket:c.socket=b?new WebSocket(a,b):new WebSocket(a))}},f=function(a){a.onopen=function(){c.open=!0;a.onmessage=function(a){c.message=a.data;c.recievers.forEach(function(b){b(a.data,a)})}};a.onclose=function(){c.open=!1};a.onerror=function(a){throw a;}};f(c.socket=b?new WebSocket(a,
b):new WebSocket(a));return{v:c}}(),"object"===("undefined"===typeof c?"undefined":_typeof(c))))return c.v},keyhandles:{base:K,enter:K(13),delete:K(8),escape:K(27),spacebar:K(32)},after:function(a,b,c){!k(b)&&k(a)?b=a:console.error("Craft.after: no function");a=Number.isFinite(a=+a)?a:0;if(1>--a)return function(){return b.apply(c||this,arguments)}},debounce:function(a,b,c){var d=void 0;return function(){var f=arguments,e=this,g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||b.apply(e,f)},
a);g&&b.apply(e,f)}},throttle:function(a,b,c){function d(){l=c.leading?Date.now():0;k=null;g=b.apply(f,e);k||(f=e=null)}var f=void 0,e=void 0,g=void 0,k=null,l=0;c||(c={});return function(){var m=Date.now();h.False(l,c.leading)&&(l=m);var n=a-(m-l);f=this;e=arguments;0>=n||n>a?(k&&(clearTimeout(k),k=null),l=m,g=b.apply(f,e),k||(f=e=null)):k||1!=c.trailing||(k=setTimeout(d,n));return g}},memoize:function(a,b){if(!k(a)||b&&!k(b))throw new TypeError("no function");var c=new WeakMap,d=function(){var f=
arguments,e=b?b.apply(this,f):f[0];if(c.has(e))return c.get(e);f=a.apply(this,f);d.cache=c.set(e,f);return f};return d},Once:function(a,b){var c=void 0;return function(){k(a)&&(c=a.apply(b||this,arguments),a=null);return c}},css:function(a,b,c){if(n(b))I(b,function(b,c){F(a)?a.style[c]=b:h.NodeList(a)&&I(a,function(a){a.style[c]=b})});else if(l(b,c))a.style[b]=c;else throw Error("CSS : Styles Object is not an object");return a},fixURL:function(a){if(!h.URL(a)){a=a.match(/^(\/.*?)?$/);if(h.empty(a))throw Error("invalid src");
a=location.host+a[0]}a.includes("http://")||a.includes("https://")||(a=location.protocol+"//"+a);return a},addCSS:function(a,b){B("style[crafterstyles]",X).textContent+=b?a:'@import url("'+g.URLfrom(a,{type:"text/css"})+'");\n'},importCSS:function(a,b){b?fetch(g.fixURL(a),{mode:"cors"}).then(function(b){b.ok?b.text().then(function(a){return g.addCSS("\n"+a,!0)}):console.warn("loading css failed - "+a)}):g.addCSS('@import url("'+g.fixURL(a)+'");\n',!0)},importFont:function(a,b){g.addCSS("@font-face {font-family:"+
a+';src:url("'+("./"===b.slice(0,2)?b:g.fixURL(b))+'");}',!0)},loadScript:function(a,b,c){var d={mode:"cors"};n(c)&&(d=S(d,c));return new Promise(function(c,e){fetch(g.fixURL(a),d).then(function(d){d.ok?d.text().then(function(a){if(b)try{c((new Function(a)).call(v))}catch(d){e(d)}else X.appendChild(r.script(a,{},!1,c,!0))}):console.warn("loading script failed - "+a)})})},loadScripts:function(a,b,c){return new Promise(function(d,f){var e=0;a.forEach(function(h){g.loadScript(h,b,c).then(function(){e++;
e==a.length&&d()}).catch(f)})})},hasCaps:function(a){return q(a).some(h.Uppercase)},hasNums:function(a){return/\d/g.test(a)},len:function(a){try{return n(a)?Object.keys(a).length:h.Map(a)||h.Set(a)?a.size:a.length}catch(b){}return-1},DateIndex:function(a,b){for(var c=0;c<a.length;c++)if(+a[c]===+b)return c;return-1},millis:{seconds:function(a){return 1E3*(a||1)},minutes:function(a){return 6E4*(a||1)},hours:function(a){return 36E5*(a||1)},days:function(a){return 864E5*(a||1)},weeks:function(a){return 6048E5*
(a||1)},months:function(a,b){return a*g.millis.days(b||30)},years:function(a){return a*g.millis.year},sec:1E3,min:6E4,hour:36E5,day:864E5,year:31536E6},Directives:new Map,Models:J(),tco:function(a){var b=void 0,c=void 0;return function(){var d=void 0;c=arguments;if(!b){for(b=!0;c;)d=a.apply(this,[c,c=null][0]);b=!1}return d}},toFormData:function(a){var b=new FormData;l(a)&&(a=a.split("&"));I(a,function(a){l(a)?(a=a.split("="),1==a.length&&(a[1]=""),b.append(a[0],a[1])):b.append(key,a)});return b},
onScroll:function(a,b,c){return w("wheel",a,function(a){c&&a.preventDefault();b(1>a.deltaY,a)})},get WhenReady(){return new Promise(function(a,b){if(W())return a();var c=setTimeout(function(){W()||b("loading took too long loaded with errors :(")},5500);g.notifier.once("ready",function(){clearTimeout(c);a()})})},model:function(a,b){l(a)&&n(b)&&!t(g.Models[a])&&(b=J(b),k(b.init)&&b.init.call(b,b),g.Models.set(a,b),g.Models.emit(a,b),b.load&&g.WhenReady.then(b.load.bind(b)));return new Promise(function(a,
d){b&&b.isObservable?a(b):d(Error("Crafter : An Error Occured with creating the ${name} Model"))})},modelInit:function(a,b){k(b)&&(void 0!=g.Models[a]?b.call(g,g.Models[a]):g.Models.once(a,function(a){b.call(g,a)}));return new Promise(function(b){void 0!=g.Models[a]?b(g.Models[a]):g.Models.once(a,function(a){b(a)})})},M:function(a,b){a=L(a);var c=a[0];if(t(g.Models[c]))return c=g.Models[c],1==a.length?c:g[(t(b)?"set":"get")+"Deep"](c,V(a.slice(1)),b)},directive:function(a,b){!g.Directives.has(a)&&
n(b)&&k(b.bind)&&(g.Directives.set(a,b),g.WhenReady.then(function(){O("["+a+"]",function(c){c=r(c);c.hasAttr(a)&&(h.Set(c.state.directives)||(c.state.directives=new Set),c.state.directives.has(a)||(c.state.directives.add(a),b.bind.call(c,c,c.getAttr(a))))})}))},camelDash:function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},formatBytes:function(a,b){if(0==a)return"0 Bytes";var c=Math.floor(Math.log(a)/Math.log(1E3));return(a/Math.pow(1E3,c)).toPrecision(b+1||3)+" "+"Bytes KB MB GB TB PB EB ZB YB".split(" ")[c]},
randomNum:function(a,b){b=b||0;return Math.random()*((a||100)-b)+b},randomInt:function(a,b){b=b||0;return Math.floor(Math.random()*((a||100)-b))+b},randomStr:function(a,b){var c="";b=b||0;for(a=a||6;b<a;b++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return c},GenUID:function(a){return g.array(a||6,function(){return g.randomStr(4)}).join("-")},Components:new Set,newComponent:function(a,b){if(!t(b))throw Error("Crafter : "+a+" - component config undefined");
k(b)&&function(){var a=Object.create(b.prototype);b={};g.omit.apply(null,[g.getAllKeys(a)].concat(g.getAllKeys(Object.prototype))).map(function(c){c.includes("__")||(b[c]=a[c])})}();var c={Instantiated:!1,created:function(a){var c=[],e;for(e in b)if(!c.includes(e))if(e.includes("set_")){var l=e.split("_")[1];c.push(e,"get_"+l);a.newSetGet(l,b[e],b["get_"+l])}else e.includes("get_")?(l=e.split("_")[1],c.push(e,"set_"+l),a.newSetGet(l,k(b["set_"+l])?b["set_"+l]:na,b[e])):["inserted","created","destroyed",
"attr"].every(h.eq(e))&&("css"==e.toLowerCase()?g.addCSS(b[e]):D(a,e,Z(b,e)));k(b.attr)&&a.lifecycle.attr(b.attr);a.ComponentInstantiated=!0},attached:function(a){a.__DOMM||(a=r(a));a.ComponentInstantiated||c.created.call(a,a);k(b.inserted)&&b.inserted.call(a,a);a.ComponentHandled=!0},destroyed:function(a){k(b.destroyed)&&b.destroyed.call(a,a)}};g.Components.add(a);y.handles.set(a,c);g.WhenReady.then(function(){G(a).map(function(a){a.ComponentHandled||y.attached(a)})})},SyncInput:function(a,b,c,d){l(a)&&
(a=B(a));h.Input(a)&&function(){var f=a.value,e=k(d);a.InputSync=w("input,blur,keydown",a,function(h){setTimeout(function(){var h=a.value;""==g.getDeep(b,c)&&""==h||h==f||(f=h,g.setDeep(b,c,a.value),e&&d(a.value))},0)})}()},disconectInputSync:function(a){l(a)&&(a=B(a));h.Node(a)&&t(a.InputSync)&&(a.InputSync.off(),delete a.InputSync)},onTabChange:function(a){return g.notifier.on("tabChange",a)},every:function(a,b,c,d){if(k(b)){var f=function(){var e={interval:void 0,on:function(){e.interval=setInterval(b.bind(h.Bool(c)||
!t(c)?e:c),k(a)?a():a);return e},off:function(){clearInterval(e.interval);return e}};if(!0===d||!0===c)g.onTabChange(function(a){e[a?"on":"off"]()});return{v:e.on()}}();if("object"===("undefined"===typeof f?"undefined":_typeof(f)))return f.v}}};(new MutationObserver(function(a){a.map(function(a){0<a.removedNodes.length&&E(a.removedNodes,function(a){F(a)&&(a.state&&a.state.emit("destroyed",a),y.hasTag(a.tagName)&&y.destroyed(a))});0<a.addedNodes.length&&E(a.addedNodes,function(a){F(a)&&(a.state&&a.state.emit("attached",
a),y.hasTag(a.tagName)&&!a.ComponentHandled&&y.attached(a));a.attributes&&E(a.attributes,function(b){g.Directives.has(b.name)&&ga(a,b.name,b.value,"",!0)})});"attributes"==a.type&&F(a.target)&&"style"!=a.attributeName&&ga(a.target,a.attributeName,a.target.getAttribute(a.attributeName),a.oldValue,a.target.hasAttribute(a.attributeName))})})).observe(p,{attributes:!0,childList:!0,subtree:!0});X.appendChild(r.style("","crafterstyles"));m=function(a){return function(){g.tabActive=a;g.notifier.emit("tabChange",
a)}};w("blur",m(!1));w("focus",m(!0));w("click",function(a,b){b.hasAttribute("link")&&(b.hasAttribute("newtab")?v.open:g.router.open)(b.getAttribute("link"))});g.directive("link",{bind:function(a,b){function c(c){if(k(c))return a.state.linkhandle&&a.state.linkhandle.off(),a.state.linkhandle=g.router.handle(b,c)}k(a.onlink)&&(a.state.linkhandle=g.router.handle(b,a.onlink.bind(a)));a.newSetGet("onlink",c,function(){return c})},update:function(a,b,c){if(b!=c&&(n(a.state.linkhandle)&&a.state.linkhandle.off(),
k(a.onunlink)))a.onunlink(b)},unbind:function(a,b){n(a.state.linkhandle)&&a.state.linkhandle.off();if(k(a.onunlink))a.onunlink(b)}});g.directive("bind",{bind:function(a,b){a.bind(b)},update:function(a,b,c){b!=c&&(a.unbind(c),a.bind(b))},unbind:function(a,b){a.unbind(b)}});g.directive("bind-for",{bind:function(a,b){var c=g.M(b);t(c)&&c.forEach?function(){var b=r.frag();a=a.stripAttr("bind-for");c.forEach(function(c){b.appendChild(a.html(c).clone(!0))});a.replace(b)}():a.remove()}});g.directive("import-view",
{bind:function(a,b){a.importview(b)},update:function(a,b){a.importview(b)}});g.directive("color-accent",{bind:function(a,b){k(a.colorAccent)&&a.colorAccent(b)}});W()?ha():U("DOMContentLoaded",p,ha);w("hashchange",function(){var a=location.hash;g.notifier.emit(a,a)});"object"===("undefined"===typeof module?"undefined":_typeof(module))&&module.exports?module.exports=g:v.Craft=g})(document,self);
