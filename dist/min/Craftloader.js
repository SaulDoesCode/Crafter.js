"use strict";!function(){var e="craft:",r=document,t=function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return r.every(function(e){return void 0!==e})},n=function(r){var t=+new Date,n=r.key||r.url,a=Craftloader.get(n);return a||a.expire-t>0?new Promise(function(e){return e(a)}):new Promise(function(a,o){return fetch(r.url).then(function(o){return o.text().then(function(o){r.data=o,r.stamp=t,r.expire=t+60*(r.expire||4e3)*60*1e3,r.cache&&localStorage.setItem(e+n,JSON.stringify(r)),a(r)})})["catch"](function(e){return o("Craftloader: problem fetching import -> "+e)})})},a=function(e){return e.map(function(e){var t="css"===e.type?r.createElement("style"):r.createElement("script");t.defer=e.defer||void 0,t.innerHTML=e.data,e.exec&&r.head.appendChild(t)})};self.Craftloader={Import:function(){for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];var c=void 0,i=[];return r.forEach(function(e){c={url:e.css||e.script,type:e.css?"css":"script",exec:e.execute!==!1,cache:e.noCache!==!1},t(e.key)&&(c.key=e.key),t(e.defer)&&(c.defer=e.defer),t(e.expire)&&(c.expire=e.expire),e.test===!1?Craftloader.remove(c.url):i.push(n(c))}),Promise.all(i).then(a)},setPrekey:function(r){return e=r+":"},get:function(r){return JSON.parse(localStorage.getItem(r.includes(e)?r:e+r)||!1)},remove:function(r){return localStorage.removeItem(r.includes(e)?r:e+r)},removeAll:function(e){for(var r in localStorage)(!e||Craftloader.get(r).expire<=+new Date)&&Craftloader.remove(r)}},Craftloader.removeAll(!0)}();