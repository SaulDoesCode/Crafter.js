/*
 *  Saul's Crafter JS
 *  License MIT
 *   /[^{}]+(?=\})/g    find between curly braces
 */
"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _typeof(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n}var _createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),ua=navigator.userAgent,tem=void 0,M=ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);M&&null!=(tem=ua.match(/version\/([\.\d]+)/i))&&(M[2]=tem[1]),M?[M[1],M[2]]:[navigator.appName,navigator.appVersion,"-?"],window.CurrentBrowser={is:function(n){return CurrentBrowser.browser.toLowerCase().includes(n.toLowerCase())?!0:!1},browser:M.join(" ")},function(){var n=function(n,t){return toString.call(n)===t},t=function(n,t){return("undefined"==typeof n?"undefined":_typeof(n))===t},e=function(n,t){return("undefined"==typeof n?"undefined":_typeof(n))!==t},r=self,o=document;window.is={Func:function(n){return"function"==typeof n},Bool:function(n){return"boolean"==typeof n},Arr:function(n){return Array.isArray(n)},String:function(n){return t(n,"string")},Num:function(n){return t(n,"number")},Undef:function(){for(var n=arguments.length,e=Array(n),r=0;n>r;r++)e[r]=arguments[r];return e.every(function(n){return t(n,"undefined")})},Def:function(){for(var n=arguments.length,t=Array(n),r=0;n>r;r++)t[r]=arguments[r];return t.every(function(n){return e(n,"undefined")})},Null:function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return t.every(function(n){return null===n})},Node:function(n){function t(){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return t.every(function(n){return n instanceof Node})}),NodeList:function(n){function t(){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return t.every(function(n){return n instanceof NodeList})}),File:function(t){return n(t,"[object File]")},FormData:function(t){return n(t,"[object FormData]")},Blob:function(t){return n(t,"[object Blob]")},Object:function(t){return n(t,"[object Object]")},RegExp:function(t){return n(t,"[object RegExp]")},Date:function(t){return n(t,"[object Date]")},Map:function(t){return n(t,"[object Map]")},Set:function(t){return n(t,"[object Set]")},Symbol:function(t){return n(t,"[object Symbol]")},Element:function(t){return n(t,"[object HTMLElement]")},UpperCase:function(n){return n>="A"&&"Z">=n},Email:function(n){return/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(n)},Native:function(n){var t="undefined"==typeof n?"undefined":_typeof(n);return"function"===t?RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$").test(Function.prototype.toString.call(n)):n&&"object"==t&&/^\[object .+?Constructor\]$/.test(n.toString)||!1},Between:function(n,t,e){return t>=n&&n>=e},lt:function(n,t){return t>n},lte:function(n,t){return t>=n},bt:function(n,t){return n>t},bte:function(n,t){return n>=t}},window.forEach=function(n,t){if(is.Func(t)){var e=0;if(is.Arr(n)||is.NodeList(n)||is.String(n))for(;e<n.length;e++)t(n[e],e);else if(is.Object(n))for(e in n)n.hasOwnProperty(e)&&t(n[e],e)}else log("err","No Function Provided for forEach")},window.query=function(n,t){return is.Undef(t)?document.querySelector(n):t.querySelector(n)},window.queryAll=function(n,t){return is.Undef(t)?document.querySelectorAll(n):t.querySelectorAll(n)},window.$=function(n,t,e){var r=queryAll(n);if(!is.Null(r)){if(r.length>1||t===!0&&is.NodeList(r))return e?r:craft(r);if(is.Node(r[0])||t===!1)return e?r[0]:craft(r[0])}return null},window.log=function(n,t){switch(n){case"err":console.error(t);break;case"warn":console.warn(t);break;case"success":console.log("%c"+t,"color:green;");break;case"info":console.info(t);break;default:console.log(n)}},r.On=function(n,t,e){is.Def(t)&&(is.String(t)?forEach(queryAll(t),function(t){return t.addEventListener(n,function(n){return e(n,t)})}):is.Node(t)||t===r||t===o?t.addEventListener(n,function(n){return e(n,t)}):is.NodeList(t)?forEach(t,function(t){return t.addEventListener(n,function(n){return e(n,t)})}):is.Func(t)&&r.addEventListener(n,function(n){return t(n,n.target)}))},r.Off=function(n,t,e){void 0!==t&&(is.String(t)?forEach(queryAll(t),function(t){return t.removeEventListener(n,function(n){return e(n,n.target)})}):is.Node(t)||t===r||t===o?t.removeEventListener(n,function(n){return e(n,n.target)}):is.NodeList(t)?forEach(t,function(t){return t.removeEventListener(n,function(n){return e(n,n.target)})}):is.Func(t)&&r.removeEventListener(n,function(n){return t(n,n.target)}))},window.craft=function(n){return is.NodeList(n)?(n.forEach=function(t){if(is.Func(t))for(var e=0;e<n.length;e++)t(craft(n[e]),e);else log("err","No function Provided for NodeList.forEach")},n.On=function(t,e){return On(t,n,e),n},n.Off=function(t,e){return n.forEach(function(n,r){return n.removeEventListener(t,function(n){return is.Def(n.target)&&is.Node(n.target)?e(n,craft(n.target),r):e(n,n.target,r)})}),n},n.includes=function(t){if(is.String(t)&&(t=query(t)),is.Node(t))for(var e=0;e<n.length;e++)if(n[e]===t)return!0;return!1},n.css=function(t){return is.Def(t)?forEach(n,function(n){return forEach(t,function(t,e){return n.style[e]=t})}):log("err","invalid styles")}):is.Node(n)&&(n.getSiblings=function(){for(var t=[],e=n.parentNode.childNodes,r=0;r<e.length;r++)e[r]!==n&&t.push(e[r]);return t},n.getWidth=function(){return n.getBoundingClientRect().width},n.getHeight=function(){return n.getBoundingClientRect().height},n.getRect=function(){return n.getBoundingClientRect()},n.setWidth=function(t){return n.style.width=Height},n.setHeight=function(t){return n.style.height=t},n.On=function(t,e){return On(t,n,e),n},n.find=function(t,e,r){var o=queryAll(t,n);return o.length>1||e===!0&&!is.Null(o)&&is.NodeList(o)?craft(o):!is.Null(o)&&is.Node(o[0])?r===!1?o[0]:craft(o[0]):null},n.replace=function(t){return n.parentNode.replaceChild(t,n)},n.remove=function(){return n.parentNode.removeChild(n)},n.append=function(t){return is.String(t)?n.innerHTML+=t:n.appendChild(n),n},n.prepend=function(t){return is.String(t)?n.innerHTML=t+n.innerHTML:n.insertBefore(t,n.firstChild),n},n.hasChild=function(t){return is.String(t)&&(t=query(t,n)),is.Node(t)&&!is.Null(t)?!0:!1},n.hasClass=function(t,e){var r=!1;return r=n.classList.contains(t)?!0:!1,is.Def(e)&&is.Func(e)&&e(r),r},n.isTag=function(t,e){return n.tagName===t.toUpperCase()?(is.Func(e)&&e(craft(n)),!0):!1},n.css=function(t){return is.Def(t)?forEach(t,function(t,e){return n.style[e]=t}):log("err","Styles Object undefined")},n.hide=function(t,e){function r(){n.style.transition="opacity "+t+"ms "+e,n.style.opacity="0",n.effectInProgress={status:!0,type:"hide"},setTimeout(function(){n.style.display="none",n.style.transition="",n.effectInProgress={status:!1,type:"none"}},t)}return is.Undef(e)&&(e="linear"),is.Undef(t)&&(t=0),is.Def(n.effectInProgress)&&n.effectInProgress.status===!0?!function(){var t=setInterval(function(){n.effectInProgress.status===!1&&(r(),clearInterval(t))},10)}():r(),n},n.show=function(t,e){function r(){n.style.transition="opacity "+t+"ms "+e,n.style.display="",n.style.opacity="1",n.effectInProgress={status:!0,type:"show"},setTimeout(function(){n.style.opacity="",n.style.transition="",n.effectInProgress={status:!1,type:"none"}},t)}return is.Undef(e)&&(e="linear"),is.Undef(t)&&(t=0),is.Def(n.effectInProgress)&&n.effectInProgress.status===!0?!function(){var t=setInterval(function(){n.effectInProgress.status===!1&&(r(),clearInterval(t))},10)}():r(),n}),is.String(n)?$(n):n},window.Craft={ArraytoObject:function(n){var t={};for(var e in n)is.Def(n[e])&&(t[e]=n[e]);return t},IndexOfArrInArr:function(n,t){for(var e=0;e<t.length;e++)if(n[0]===t[e])for(var r=0;r<n.length&&n[r]===t[e+r];r++)if(r==n.length-1)return e;return-1},bindNode:function(n,t,e){var r=is.Node(n)?n:query(n),o=void 0;is.Func(t)&&(e=t,t=Craft.Scope),!is.Null(r)&&is.Def(e)&&is.Func(e)?(r.isbound=!0,Object.observe(t,function(n){r.isbound&&n.forEach(function(n){o=n,e(r,n)})}),e(r,o)):log("err","No matching element")},unbindNode:function(n,t){var e=is.Node(n)?n:query(n);is.Null(e)?log("err","No matching element"):(e.isbound=!1,t(e))},after:function(n,t){if(!is.Func(t))if(is.Func(n)){var e=n;n=t,t=e}else log("err","after : func is not a function");return n=Number.isFinite(n=+n)?n:0,function(){return--n<1?t.apply(this,arguments):void 0}},debounce:function(n,t,e){var r=void 0;return function(){var o=this,i=arguments,u=function(){r=null,e||t.apply(o,i)},c=e&&!r;clearTimeout(r),r=setTimeout(u,n),c&&t.apply(o,i)}},throttle:function(n,t,e){var r=void 0,o=void 0,i=void 0,u=null,c=0;e||(e={});var f=function(){c=e.leading===!1?0:Date.now(),u=null,i=t.apply(r,o),u||(r=o=null)};return function(){var a=Date.now();c||e.leading!==!1||(c=a);var s=n-(a-c);return r=this,o=arguments,0>=s||s>n?(u&&(clearTimeout(u),u=null),c=a,i=t.apply(r,o),u||(r=o=null)):u||e.trailing===!1||(u=setTimeout(f,s)),i}},once:function(n,t){var e=void 0;return function(){return is.Func(n)&&(e=n.apply(t||this,arguments),n=null),e}},css:function(n,t){return is.Def(t,n)&&is.Node(n)?forEach(t,function(t,e){return n.style[e]=t}):log("err","invalid args")},hasCapitals:function(n){for(var t=0;t<n.length;t++)if(is.UpperCase(n[t]))return!0;return!1},OverrideFunction:function(n,t,e){for(var r=n.split("."),o=r.pop(),i=0;i<r.length;i++)e=e[r[i]];e[o]=t},concatObjects:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;t>r;r++)e[r-1]=arguments[r];return forEach(n,function(){e.forEach(function(t){forEach(t,function(t,e){e in n?is.Arr(n[e])?n[e].includes(t)||n[e].push(t):t!==n[e]&&(n[e]=[t,n[e]]):n[e]=t})})}),n},mergeObjects:function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;t>r;r++)e[r-1]=arguments[r];return Object.assign(n,e)},len:function(n){if(is.Object(n))return Object.keys(n).length;if(is.Map(n)||is.Set(n))return n.size;try{return n.length}catch(t){log("err","could not find length of value")}},indexOfDate:function(n,t){for(var e=0;e<(void 0).length;e++)if(+(void 0)[e]===+t)return e;return-1},removeArrItem:function(n,t){for(var e=n.IndexOf(t),r=[],o=0;o<n.length;o++)o!==e&&r.push(n[o]);return r},omit:function(n,t){return is.Object(n)?(n!==t&&forEach(n,function(e,r){(t===r||t===e)&&delete n[r]}),n.hasOwnProperty(t)&&log("err","couldn't omit "+t+"from Object")):(is.Arr(n)||is.String(n))&&(n.forEach(function(e){t===e&&(n=Craft.removeArrItem(n,e))}),-1!==t.IndexOf(i)&&log("err","couldn't omit "+t+"from Array or String")),n},Scope:{},mouse:{x:0,y:0},nodeExists:function(n,t){return is.Node(t)?null!==queryAll(n,t):null!==queryAll(n)},ObjToFormData:function(n){var t=new FormData,e=void 0;for(e in n)t.append(e,n[e]);return t},URLfrom:function(n){return URL.createObjectURL(new Blob([n]))},OnResize:function(n){return is.Func(n)?Craft.ResizeHandlers.add(n):log("err","TypeError : Craft.OnResize -> func is not a function")},router:{handle:function(n,t){(location.hash===n||location===n)&&t(),Craft.router.handlers.push({link:n,func:t})},handlers:[],links:[],makeLink:function(n,t,e,r){return Craft.router.links.push(function(){return On(is.Undef(r)?"click":r,query(n),function(n){return Craft.router.open(t,e)})})},open:function(n){function t(t,e){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(n,t){return t?open(n):location=n}),setTitle:function(n){return document.title=n},setView:function(n,t){return query(n).innerHTML=t},fetchView:function(n,t,e,r){is.Null(localStorage.getItem("RT_"+r))||is.Undef(localStorage.getItem("RT_"+r))?fetch(t).then(function(t){t.text().then(function(t){e&&is.Def(r)&&is.String(r)&&(is.Null(localStorage.getItem("RT_"+r))||is.Undef(localStorage.getItem("RT_"+r)))&&localStorage.setItem("RT_"+r,t),query(n).innerHTML=t})})["catch"](function(n){return log("warn","Could not fetch view -> "+n)}):e&&(query(n).innerHTML=localStorage.getItem("RT_"+r))},clearCache:function(){for(var n in localStorage)localStorage.key(n).includes("RT_")&&localStorage.removeItem(localStorage.key(n))}},randomString:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},GenUID:function(){return Craft.randomString()+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+Craft.randomString()+Craft.randomString()},newComponent:function(n,t){is.Undef(t)?log("err","Invalid Component Configuration"):!function(){var e=Object.create(HTMLElement.prototype);forEach(t,function(n,t){"created"===t?e.createdCallback=n:"inserted"===t?e.attachedCallback=n:"destroyed"===t?e.detachedCallback=n:"attr"===t?e.attributeChangedCallback=n:is.Func(n)?e[t]=n:"extends"===t||is.Func(n)||(e[t]=n)}),"extends"in t?document.registerElement(n,{prototype:e,"extends":t["extends"]}):document.registerElement(n,{prototype:e})}()}},window.FunctionIterator=function(){function n(){_classCallCheck(this,n),this.functions={},this.length=Object.keys(this.functions).length}return _createClass(n,[{key:"has",value:function(n){return this.functions.has(n)?!0:!1}},{key:"add",value:function(n,t){is.Func(t)?this.functions[n]=t:is.Func(n)?this.functions[Craft.randomString()]=n:log("err","Invalid function parameter in FunctionIterator.add(funcName , _function_ )"),this.length=Object.keys(this.functions).length}},{key:"remove",value:function(n){this.functions.has(n)?(this.functions[n]=null,delete this.functions[n]):log("warn","No Such Function Entry in FunctionIterator"),this.length=Object.keys(this.functions).length}},{key:"removeAll",value:function(){delete this.functions,this.functions=null,this.functions={},this.length=Object.keys(this.functions).length}},{key:"runEach",value:function(){for(var n in this.functions)this.functions[n].apply(this,arguments)}},{key:"runOne",value:function(n,t){this.functions.hasOwnProperty(n)?this.functions[n].apply(this,t,arguments):log("warn","No Such Function Entry in FunctionIterator")}}]),n}(),Craft.ResizeHandlers=new FunctionIterator,window.onresize=Craft.throttle(450,function(n){return Craft.ResizeHandlers.runEach(n)}),window.onmousemove=function(n){Craft.mouse.x=n.clientX,Craft.mouse.y=n.clientY};var u=!1,c=!1;On("DOMContentLoaded",function(){forEach(queryAll("[link]"),function(n){return On("click",n,function(t){return n.hasAttribute("newtab")?open(n.getAttribute("link")):Craft.router.open(n.getAttribute("link"))})}),Craft.router.links.forEach(function(n){return n()}),u=!0}),On("WebComponentsReady",function(n){c=u,setTimeout(function(){c||(c=!0)},3500)}),window.WhenReady=function(){return new Promise(function(n,t){c?Current.browser.includes("Firefox")?setTimeout(function(){return n(Craft.Scope)},600):n(Craft.Scope):!function(){var e=setInterval(function(){c&&(CurrentBrowser.browser.includes("Firefox")||CurrentBrowser.browser.includes("msie")?(setTimeout(function(){return n(Craft.Scope)},650),n(Craft.Scope)):n(Craft.Scope),clearInterval(e))},50);setTimeout(function(){c||t("WebComponents didn't load correctly/intime -> load failed")},4500)}()})},On("hashchange",function(n){return Craft.router.handlers.forEach(function(n){return location.hash===n.link||location===n.link?n.func():null})}),Object.observe(Craft.Scope,function(n){n.forEach(function(n){forEach(queryAll("[view-bind]"),function(n){is.Def(Craft.Scope[n.getAttribute("view-bind")])&&(n.innerHTML=Craft.Scope[n.getAttribute("view-bind")])})})})}();