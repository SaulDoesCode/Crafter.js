"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n}var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();!function(n,e){function t(n,e){if(b.Undef(n))throw new Error("forEach -> cannot iterate through undefined");if(!b.Func(e))throw new Error("forEach -> invalid or undefined function provided");var t=0;if(b.Def(n.length))for(;t<n.length;t++)e(n[t],t);else for(t in n)n.hasOwnProperty(t)&&e(n[t],t)}function r(n,e,t){b.Func(e)&&(t=e);var r=void 0,u=0;for(r=b.Node(n)?[n]:b.Func(e)?x(n):x(n,e);u<r.length;u++)t(r[u],u)}function u(n,t,r,u){if(b.Func(t))return new D(n,e,t).On();if(arguments.length<3&&!Array.from(arguments).some(function(n){return b.Func(n)})){var o=function(){var e=function(e,r){return new D(e,n,r,t).On()};return{v:{Click:function(n){return e("click",n)},Input:function(n){return e("input",n)},DoubleClick:function(n){return e("dblclick",n)},Focus:function(n){return e("focus",n)},Blur:function(n){return e("blur",n)},Keydown:function(n){return e("keydown",n)},Mousedown:function(n){return e("mousedown",n)},Mouseup:function(n){return e("mouseup",n)},Mouseover:function(n){return e("mouseover",n)},Mouseout:function(n){return e("mouseout",n)},Mouseenter:function(n){return e("mouseenter",n)},Mouseleave:function(n){return e("mouseleave",n)},Scroll:function(n){return e("scroll",n)}}}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}return b.Func(r)?new D(n,t,r).On():new D(n,t,u,r).On()}function o(n,t,r,u){if(b.Func(t))return new D(n,e,t).Once();if(arguments.length<3&&!Array.from(arguments).some(function(n){return b.Func(n)})){var o=function(){var e=function(e,r){return new D(e,n,r,t).Once()};return{v:{Click:function(n){return e("click",n)},Input:function(n){return e("input",n)},DoubleClick:function(n){return e("dblclick",n)},Focus:function(n){return e("focus",n)},Blur:function(n){return e("blur",n)},Keydown:function(n){return e("keydown",n)},Mousedown:function(n){return e("mousedown",n)},Mouseup:function(n){return e("mouseup",n)},Mouseover:function(n){return e("mouseover",n)},Mouseout:function(n){return e("mouseout",n)},Mouseenter:function(n){return e("mouseenter",n)},Mouseleave:function(n){return e("mouseleave",n)},Scroll:function(n){return e("scroll",n)}}}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}return b.Func(r)?new D(n,t,r).Once():new D(n,t,u,r).Once()}function i(e,r,u,o,i){if(b.Bool(r)&&r===!0&&(o=r,r="",u=void 0),b.Bool(u)&&(o=u,u=void 0),b.Undef(r,u,o)&&(r="",o=!0),o===!0){var a=function(){var o=n.createElement(e);return o.innerHTML=r,b.Object(u)&&t(u,function(n,e){return o.setAttribute(e,n)}),b.String(u)&&u.split("&").forEach(function(n){return b.Def(n.split("=")[1])?o.setAttribute(n.split("=")[0],n.split("=")[1]):o.setAttribute(n.split("=")[0],"")}),b.Def(i)&&b.Object(i)&&t(i,function(n,e){return o.setAttribute(e,n)}),{v:o}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}var c="";return b.String(u)&&u.split("&").forEach(function(n){return c+=b.Def(n.split("=")[1])?n.split("=")[0]+'="'+n.split("=")[1]+'" ':n.split("=")[0]+" "}),b.Object(u)&&t(u,function(n,e){return c+=" "+e+'="'+n+'" '}),b.Def(i)&&b.Object(i)&&t(i,function(n,e){return c+=" "+e+'="'+n+'" '}),"<"+e+" "+c+">"+r+"</"+e+">"}function a(n){return{On:function(e,t){return u(e,n,t)},includes:function(e){for(var t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},css:function(n){return b.Def(n)?t(this.element,function(e){return t(n,function(n,t){return e.style[t]=n})}):console.error("styles unefined")}}}var c=function(n,e){return toString.call(n)===e},f=function(n,e){return("undefined"==typeof n?"undefined":_typeof(n))===e},s=function(n,e){return!f(n,e)},l=function(n,e){if(f(e,"string")||void 0===e||null===e)return!1;for(var t=0,r=!0;t<e.length;t++)if(e[t]instanceof n){r=!1;break}return r},d=function(n,e,t){return n?e:t},h={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,hexadecimal:/^[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/},g=!1,m=void 0,p=n.getElementsByTagName("head")[0],v=n.createElement("style"),F=navigator.userAgent,y=void 0,A=F.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);A&&null!==(y=F.match(/version\/([\.\d]+)/i))&&(A[2]=y[1]),A?[A[1],A[2]]:[navigator.appName,navigator.appVersion,"-?"],v.setAttribute("crafterstyles",""),v.innerHTML="\n@keyframes NodeInserted {from {opacity:.99;}to {opacity: 1;}} [view-bind],[input-bind] {animation-duration: 0.001s;animation-name: NodeInserted;}",p.appendChild(v),v=n.querySelector("[crafterstyles]",p);var b={Bool:function(n){return"boolean"==typeof n},String:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return f(n,"string")})},Arr:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return Array.isArray(n)})},Arraylike:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return b.Def(n.length)?!0:!1})},Undef:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return f(n,"undefined")})},Def:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return s(n,"undefined")})},Null:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return null===n})},Node:function(n){function e(){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return n instanceof Node})}),NodeList:function(n){function e(){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length?!b.Node(e[0])&&e.every(function(n){return null===n?!1:n instanceof NodeList||l(Node,n)}):!1}),Num:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return c(n,"[object Number]")})},Object:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return c(n,"[object Object]")})},Element:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return c(n,"[object HTMLElement]")})},File:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return c(n,"[object File]")})},FormData:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return c(n,"[object FormData]")})},Map:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return c(n,"[object Map]")})},Func:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return"function"==typeof n})},Blob:function(n){return c(n,"[object Blob]")},RegExp:function(n){return c(n,"[object RegExp]")},Date:function(n){return c(n,"[object Date]")},Set:function(n){return c(n,"[object Set]")},Args:function(n){return!b.Null(n)&&(c(n,"[object Arguments]")||"object"===("undefined"==typeof n?"undefined":_typeof(n))&&"callee"in n)},Symbol:function(n){return c(n,"[object Symbol]")},"char":function(n){return b.String(n)&&1===n.length},space:function(n){return b["char"](n)?n.charCodeAt(0)>8&&n.charCodeAt(0)<14||32===n.charCodeAt(0):!1},Uppercase:function(n){return b.String(n)&&n===n.toUpperCase()},Lowercase:function(n){return b.String(n)&&n===n.toLowerCase()},Alphanumeric:function(n){return/^[0-9a-zA-Z]+$/.test(n)},Email:function(n){return h.email.test(n)},URL:function(n){return h.url.test(n)},HexColor:function(n){return h.hexColor.test(n)},ip:function(n){return h.ip.test(n)},ipv4:function(n){return h.ipv4.test(n)},ipv6:function(n){return h.ipv6.test(n)},hexadecimal:function(n){return h.hexadecimal.test(n)},today:function(n){return b.Date(n)&&n.toDateString()===(new Date).toDateString()},yesterday:function(n){var e=new Date;return b.Date(n)&&n.toDateString()===new Date(e.setDate(e.getDate()-1)).toDateString()},tomorrow:function(n){var e=new Date;return b.Date(n)&&n.toDateString()===new Date(e.setDate(e.getDate()+1)).toDateString()},past:function(n){return b.Date(n)&&n.getTime()<(new Date).getTime()},future:function(n){return!b.past(n)},time:function(n){return h.timeString.test(n)},dateString:function(n){return h.dateString.test(n)},Between:function(n,e,t){return e>=n&&n>=t},"int":function(n){return b.Num(n)&&n%1===0},even:function(n){return b.Num(n)&&n%2===0},odd:function(n){return b.Num(n)&&n%2!==0},positive:function(n){return b.Num(n)&&n>0},negative:function(n){return b.Num(n)&&0>n},eq:function(n,e){return n===e},lt:function(n,e){return e>n},lte:function(n,e){return e>=n},bt:function(n,e){return n>e},bte:function(n,e){return n>=e},empty:function(n){if(b.Object(n)){var e=Object.getOwnPropertyNames(n).length;return 0===e||1===e&&b.Arr(n)||2===e&&b.Args(n)?!0:!1}return b.Arr(n)?n.length<=0:""===n},ReactiveVariable:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.length&&e.every(function(n){return n instanceof w?!0:!1})},Native:function(n){var e="undefined"==typeof n?"undefined":_typeof(n);return"function"===e?RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$").test(Function.prototype.toString.call(n)):n&&"object"==e&&/^\[object .+?Constructor\]$/.test(n.toString)||!1}},S=function(n,e){return b.String(n)&&b.String(e)||b.Node(e)?n=x(n,e):b.String(n)&&(n=x(n)),d(!b.Null(n)&&b.Node(n),function(){return[n]},function(){return b.NodeList(n)?Array.from(n):[]})()},C=function(){function n(){_classCallCheck(this,n),this.functions={},this.length=Object.keys(this.functions).length}return _createClass(n,[{key:"has",value:function(n){return this.functions.has(n)?!0:!1}},{key:"add",value:function(n,e){b.Func(e)?this.functions[n]=e:b.Func(n)?this.functions[m.randomString()]=n:console.error("Invalid function parameter in FunctionIterator.add(funcName , _function_ )"),this.length=Object.keys(this.functions).length}},{key:"remove",value:function(n){this.functions.has(n)?(this.functions[n]=null,delete this.functions[n]):console.warn("No Such Function Entry in FunctionIterator"),this.length=Object.keys(this.functions).length}},{key:"removeAll",value:function(){delete this.functions,this.functions=null,this.functions={},this.length=Object.keys(this.functions).length}},{key:"runEach",value:function(){for(var n in this.functions)this.functions[n].apply(this,arguments)}},{key:"runOne",value:function(n){this.functions.hasOwnProperty(n)?this.functions[n].apply(this,args):console.warn("No Such Function Entry in FunctionIterator")}}]),n}(),k=function(){function n(e,t){var r=this;_classCallCheck(this,n),b.Arr(t)?this.Socket=new WebSocket(e,t):this.Socket=new WebSocket(e),this.messageCalls=[],this.RecieveCalls=[],this.Socket.onmessage=function(n){return r.RecieveCalls.forEach(function(e){return e(n)})}}return _createClass(n,[{key:"send",value:function(n,e){var t=this;this.messageCalls.push(function(){t.Socket.send(n),b.Def(e)&&b.Func(e)&&t.recieve(function(n,t){return e(n,t)})}),this.Socket.onopen=function(n){return t.messageCalls[t.messageCalls.length-1]()}}},{key:"recieve",value:function(n){b.Func(n)?this.RecieveCalls.push(function(e){return n(e.data,e)}):console.error("callback is not a function or is not defined")}},{key:"close",value:function(){this.Socket.close()}}]),n}(),w=function(){function n(e,t){return _classCallCheck(this,n),b.Func(t)?(this.val=e,this.Handle=t):console.error("ReactiveVariable needs a handler function after the value"),this.val}return _createClass(n,[{key:"set",value:function(n){return this.val!==n&&(this.Oldval=this.val,this.val=n,this.Handle(this.Oldval,n)),this.val}},{key:"get",value:function(){return this.val}},{key:"reset",value:function(n){b.Func(n)?this.Handle=n:console.error("ReactiveVariable.Reset only takes a function")}}]),n}(),D=function(){function t(r,u,o,i){for(var a=arguments.length,c=Array(a>4?a-4:0),f=4;a>f;f++)c[f-4]=arguments[f];_classCallCheck(this,t),this.EventType=r,this.Target=u!==e&&u!==n?S(u,i):u,this.FuncWrapper=function(n){return o(n,n.srcElement,c||[])}}return _createClass(t,[{key:"On",value:function(){var n=this;return b.Arr(this.Target)?this.Target.forEach(function(e){return e.addEventListener(n.EventType,n.FuncWrapper)}):this.Target.addEventListener(this.EventType,this.FuncWrapper),this}},{key:"Off",value:function(){var n=this;return b.Arr(this.Target)?this.Target.forEach(function(e){return e.removeEventListener(n.EventType,n.FuncWrapper)}):this.Target.removeEventListener(this.EventType,this.FuncWrapper),this}},{key:"Once",value:function(){var n=this.FuncWrapper,e=this.Target,t=this.EventType,r=function u(r){n(r),b.Arr(e)?e.forEach(function(n){return n.removeEventListener(t,u)}):e.removeEventListener(t,u)};return b.Arr(e)?e.forEach(function(n){return n.addEventListener(t,r)}):e.addEventListener(t,r),this}}]),t}(),E=function(e,t){return b.Def(t)?d(b.String(t),function(){return n.querySelector(t).querySelector(e)},function(){return t.querySelector(e)})():n.querySelector(e)},x=function(e,t){return b.Def(t)?b.Node(t)?t.querySelectorAll(e):E(t).querySelectorAll(e):n.querySelectorAll(e)},O=function(){function n(e,t){_classCallCheck(this,n),b.String(e)&&(e=b.Def(t)?E(e,t):E(e)),this.element=e}return _createClass(n,[{key:"html",value:function(n){return b.Def(n)?this.element.innerHTML=n:this.element.innerHTML}},{key:"text",value:function(n){return b.Def(n)?this.element.textContent=n:this.element.textContent}},{key:"replace",value:function(n){return this.element.parentNode.replaceChild(el,this.element),this}},{key:"appendTo",value:function(n){var e=void 0;return e=b.Node(n)?n:E(n),null!==e&&e.appendChild(this.element),this}},{key:"append",value:function(n){return b.String(n)?this.element.innerHTML+=n:this.element.parentNode.appendChild(this.element),this}},{key:"prepend",value:function(n){return b.String(n)?this.element.innerHTML=n+this.element.innerHTML:this.element.insertBefore(n,this.element.firstChild),this}},{key:"On",value:function(n,e){return u(n,this.element,e)}},{key:"css",value:function(n){var e=this;return b.Def(n)?t(n,function(n,t){return e.element.style[t]=n}):console.error("Styles Object undefined"),this}},{key:"gotClass",value:function(n){return this.element.classList.contains(n)}},{key:"addClass",value:function(n){return this.element.classList.add(n),this}},{key:"stripClass",value:function(n){return this.element.classList.remove(n),this}},{key:"stripAttr",value:function(n){return this.element.removeAttribute(n),this}},{key:"hasAttr",value:function(n){return this.element.hasAttribute(n)}},{key:"setAttr",value:function(n,e){return this.element.setAttribute(n,e),this}},{key:"getAttr",value:function(n){return this.element.getAttribute(n)}},{key:"getSiblings",value:function(){for(var n=[],e=this.element.parentNode.childNodes,t=0;t<e.length;t++)e[t]!==this.element&&n.push(e[t]);return n}},{key:"Width",value:function(n){return b.Def(n)?(this.element.style.width=n,this):this.element.getBoundingClientRect().width}},{key:"Height",value:function(n){return b.Def(n)?(this.element.style.height=n,this):this.element.getBoundingClientRect().height}},{key:"getRect",value:function(){return this.element.getBoundingClientRect()}},{key:"query",value:function(n){return E(n,this.element)}},{key:"queryAll",value:function(n){return x(selector,this.element)}}]),n}(),T=function(n,e){if(b.Node(n))return new O(n);if(b.String(n)){var t=b.String(e)||b.Node(e)?x(n,e):x(n);return t.length?1===t.length?new O(t[0]):a(t):console.warn("dom('"+n+"') -> null CSS selector")}return m.dom};m={ArraytoObject:function(n){var e=void 0,t={};for(e in n)b.Def(n[e])&&(t[e]=n[e]);return t},filterArr:function(n,e){for(var t=-1,r=-1,u=[];++t<n.length;)e(n[t],t,n)&&(u[++r]=n[t]);return u},removeFromArr:function(n,e){var t=n.IndexOf(e),r=[],u=!1,o=0;for(b.String(n)&&(n=Array.from(n),u=!0);o<n.length;o++)o!==t&&r.push(n[o]);return u?r:r},sameArray:function(n,e){var t=n.length;if(t!==e.length)return!1;for(;t--;)if(n[t]!==e[t])return!1;return!0},concatObjects:function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;e>u;u++)r[u-1]=arguments[u];return t(n,function(){return r.forEach(function(e){return t(e,function(e,t){t in n?b.Arr(n[t])?n[t].includes(e)||n[t].push(e):e!==n[t]&&(n[t]=[e,n[t]]):n[t]=e})})}),n},mergeObjects:function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;e>r;r++)t[r-1]=arguments[r];return Object.assign(n,t)},omit:function(n,e){if(b.Object(n)&&n!==e?t(n,function(t,r){(e===r||e===t)&&delete n[r]}):(b.Arr(n)||b.String(n))&&n.forEach(function(t){e===t&&(n=m.removeArrItem(n,t))}),b.Object(n)&&n.hasOwnProperty(e))throw new Error("couldn't omit "+e+" from Object");if(n.includes(e))throw new Error("couldn't omit "+e+" from Array/String");return n},dom:{div:function(n,e,t){return i("div",n,e,t)},span:function(n,e,t){return i("span",n,e,t)},label:function(n,e,t){return i("label",n,e,t)},p:function(n,e,t){return i("p",n,e,t)},img:function(n,e,t,r){return i("img","",t,r,{src:n,alt:e})},ul:function(n,e,t){var r="";return b.Arr(n)&&n.forEach(function(e){b.String(e)?r+=i("li",e):b.Object(n)&&(r+=i("li",e.inner,e.attr))}),i("ul",r,e,t)},ol:function(n,e,t){var r="";return b.Arr(n)&&n.forEach(function(e){b.String(e)?r+=i("li",e):b.Object(n)&&(r+=i("li",e.inner,e.attr))}),i("ol",r,e,t)},h:function(n,e,t,r){return i("h"+n,e,t,r)},a:function(n,e,t,r){return i("a",e,t,r,{href:n})},script:function(n,e,t){return i("script",n,e,t,{type:"text/javascript"})},table:function(n,e,r){if(!b.Arr(n))return b.String(n)?i("table",n,e,r):i("table","",e,r);if(!n.every(function(n){return b.Object(n)}))throw new TypeError("dom.table -> rows : all entries need to be objects");var u="";return t(n,function(n){return t(n,function(n,e){var t="<tr>";"cell"===e||"td"===e||"data"===e?b.String(n)?t+="<td>"+n+"</td>":b.Object(n)&&(t+=i("tr",n.inner,n.attr)):("head"===e||"th"===e)&&(b.String(n)?t+="<th>"+n+"</th>":b.Object(n)&&(t+=i("th",n.inner,n.attr))),t+="</tr>",u+=t})}),i("table",u,e,r)}},CurrentBrowser:{is:function(n){return A.join(" ").toLowerCase().includes(n.toLowerCase())?!0:!1},browser:A.join(" ")},loader:{pre:"craft:",fetchImport:function(n){var e=+new Date,t=n.key||n.url,r=m.loader.get(t);return r||r.expire-e>0?new Promise(function(n){return n(r)}):new Promise(function(r,u){return fetch(n.url).then(function(u){return u.text().then(function(u){n.data=u,n.stamp=e,n.expire=e+60*(n.expire||4e3)*60*1e3,n.cache&&localStorage.setItem(m.loader.pre+t,JSON.stringify(n)),r(n)})})["catch"](function(n){return u("Craft.loader problem fetching import -> "+n)})})},setPrekey:function(n){return m.loader.pre=n+":"},get:function(n){return JSON.parse(localStorage.getItem(n.includes(m.loader.pre)?n:m.loader.pre+n)||!1)},remove:function(n){return localStorage.removeItem(n.includes(m.loader.pre)?n:m.loader.pre+n)},removeAll:function(n){for(var e in localStorage)(!n||m.loader.get(e).expire<=+new Date)&&m.loader.remove(e)}},Import:function(){for(var n=[],e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return t.forEach(function(e){return e.test===!1?m.loader.remove(e.css||e.script):n.push(m.loader.fetchImport({url:e.css||e.script,type:e.css?"css":"script",exec:e.execute!==!1,cache:e.cache!==!1,defer:e.defer?"defer":null,key:e.key||void 0,expire:e.expire||void 0}))}),Promise.all(n).then(function(n){return n.map(function(n){return n.exec?"css"===n.type?v.innerHTML+="\n"+n.data:p.appendChild(T().script(n.data,n.defer,!0)):void 0})})},router:{handle:function(n,e){b.String(n)?((location.hash===n||location===n)&&e(location.hash),m.router.handlers.push({link:n,func:e})):b.Arr(n)&&n.forEach(function(n){(location.hash===n||location===n)&&e(location.hash),m.router.handlers.push({link:n,func:e})})},handlers:[],links:[],link:function(n,e,t,r){return m.router.links.push(function(){return u(b.Def(r)?r:"click",E(n),function(n){return t?open(e):location=e})})},open:function(n){function e(e,t){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(n,e){return e?open(n):location=n}),setTitle:function(e){return n.title=e},setView:function(n,e){return E(n).innerHTML=e},fetchView:function(n,e,t,r,u){var o=E(n),i=b.Def(u)?localStorage.getItem("RT_"+u):null;null!==o&&(b.Null(i)?fetch(e).then(function(n){return n.text().then(function(n){r===!0&&b.String(u)&&b.Null(i)&&localStorage.setItem("RT_"+u,n),t?o.innerHTML+=n:o.innerHTML=n})})["catch"](function(n){return console.warn("Could not fetch view -> "+n)}):r!==!0||t?o.innerHTML+=i:o.innerHTML=i)},clearCache:function(){for(var n in localStorage)localStorage.key(n).includes("RT_")&&localStorage.removeItem(localStorage.key(n))}},Cookies:{get:function(e){return e?decodeURIComponent(n.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(e,t,r,u,o,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";return r&&(b.Num(r)&&(a=r===1/0?"; expires=Fri, 11 April 9997 23:59:59 UTC":"; max-age="+r),b.String(r)&&(a="; expires="+r),b.Date(r)&&(a="; expires="+r.toUTCString())),n.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(o?"; domain="+o:"")+(u?"; path="+u:"")+(i?"; secure":""),!0},remove:function(e,t,r){return m.Cookies.has(e)?(n.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:"")+(t?"; path="+t:""),!0):!1},has:function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(n.cookie):!1},keys:function(){var e=n.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);return e.forEach(function(n){return decodeURIComponent(n)}),e}},after:function(n,e){var t=this;return b.Func(e)||(b.Func(n)?e=n:console.error("after : func is not a function")),n=Number.isFinite(n=+n)?n:0,function(){for(var r=arguments.length,u=Array(r),o=0;r>o;o++)u[o]=arguments[o];return--n<1?e.apply(t,u):function(){return null}}},debounce:function(n,e,t){var r=void 0;return function(){var u=this,o=arguments,i=function(){r=null,t||e.apply(u,o)},a=t&&!r;clearTimeout(r),r=setTimeout(i,n),a&&e.apply(this,o)}},throttle:function(n,e,t){var r=void 0,u=void 0,o=void 0,i=null,a=0;t||(t={});var c=function(){a=t.leading===!1?0:Date.now(),i=null,o=e.apply(r,u),i||(r=u=null)};return function(){var f=Date.now();a||t.leading!==!1||(a=f);var s=n-(f-a);return r=this,u=arguments,0>=s||s>n?(i&&(clearTimeout(i),i=null),a=f,o=e.apply(r,u),i||(r=u=null)):i||t.trailing===!1||(i=setTimeout(c,s)),o}},once:function(n,e){var t=void 0;return function(){return b.Func(n)&&(t=n.apply(e||this,arguments),n=null),t}},css:function(n,e){return b.Def(e,n)&&b.Node(n)?t(e,function(e,t){return n.style[t]=e}):console.error("invalid args")},hasCapitals:function(n){for(var e=0;e<n.length;e++)if(b.Uppercase(n[e]))return!0;return!1},OverrideFunction:function(n,e,t){for(var r=n.split("."),u=r.pop(),o=0;o<r.length;o++)t=t[r[o]];t[u]=e},len:function(n){if(b.Object(n))return Object.keys(n).length;if(b.Map(n)||b.Set(n))return n.size;try{return n.length}catch(e){console.error("could not find length of value")}},indexOfDate:function(n,e){for(var t=0;t<n.length;t++)if(+n[t]===+e)return t;return-1},type:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];var r=[];return e.forEach(function(n){return r.push("undefined"==typeof n?"undefined":_typeof(n))}),r.length<2?r[0]:r},memoize:function(n,e){if(!b.Func(n)||e&&!b.Func(e))throw new TypeError("arg provided is not a function");var t=new WeakMap,r=function u(){for(var r=arguments.length,o=Array(r),i=0;r>i;i++)o[i]=arguments[i];var a=e?e.apply(this,o):o[0];if(t.has(a))return t.get(a);var c=n.apply(this,o);return u.cache=t.set(a,c),c};return r},Scope:{},WebComponents:[],tabActive:!0,ResizeHandlers:new C,make_element:i,Binds:new Map,mouse:{x:0,y:0,over:null},easing:{inOutQuad:function(n,e,t,r){return n/=r/2,1>n?t/2*n*n+e:(n--,-t/2*(n*(n-2)-1)+e)}},JumpTo:function(n,t){t=t||{},t.duration=t.duration||400,t.offset=t.offset||0,t.callback=t.callback||void 0;var r=void 0,u=void 0,o=e.pageYOffset,i=b.String(n)?t.offset+E(n).getBoundingClientRect().top:n,a=0,c=function f(n){0===a&&(r=n),a++,u=n-r,e.scrollTo(0,m.easing.inOutQuad(u,o,i,t.duration)),u<t.duration?requestAnimationFrame(function(n){return f(n)}):function(){e.scrollTo(0,o+i),b.Func(t.callback)&&t.callback.call(),r=void 0}()};requestAnimationFrame(function(n){return c(n)})},nodeExists:function(n,e){return null!==x(n,e=b.Node(e)?e:E(e))},ObjToFormData:function(n){var e=void 0,t=new FormData;for(e in n)t.append(e,n[e]);return t},URLfrom:function(n){return URL.createObjectURL(new Blob([n]))},OnScroll:function(n,e){return b.Func(e)?u("scroll",n,function(n){return e(n.deltaY<1?!1:!0,n)}):console.error("second param needs to be a function")},OnResize:function(n){return b.Func(n)?m.ResizeHandlers.add(n):console.error("Craft.OnResize -> func is not a function")},OnScrolledTo:function(n,e,t){return u("scroll",function(r){pageYOffset>=n?e(r):b.Def(t)&&t(r)})},WhenScrolledTo:function(n){return new Promise(function(e,t){var r=u("scroll",function(t){(pageYOffset>=n||pageYOffset<=n)&&(r.Off(),e(t))})})},WhenReady:function(n){return new Promise(function(e,t){n=n||m.Scope,g?e(n):!function(){var r=setInterval(function(){g&&(e(n),clearInterval(r))},25);setTimeout(function(){clearInterval(r),g||t("Things didn't load correctly/intime -> load failed")},4500)}()})},poll:function(n,e,t,r,u){return function(){b.Func(t)&&(b.Func(r)&&(u=r),r=t,t=void 0);var o=setInterval(function(){(b.Bool(n)&&n===!0||b.Func(n)&&n()===!0)&&(r(),clearInterval(o))},e||20);b.Num(t)&&setTimeout(function(){clearInterval(o),(b.Bool(n)&&n===!1||b.Func(n)&&n()===!1)&&u()},t)}()},strongPassword:function(n,e,t,r,u){for(var o=arguments.length,i=Array(o>5?o-5:0),a=5;o>a;a++)i[a-5]=arguments[a];if(n.length<=e)return u?"Password too short":!1;if(t===!0&&m.hasCapitals(n)===!1)return u?"Password should contain Capital letters":!1;if(r===!0&&/\d/g.test(n)===!1)return u?"Password should contain a number":!1;if(0!==i.length){var c=!0;i.join();if(i.forEach(function(e){n.includes(e)||(c=!1)}),!c)return u?"":!1}return!0},randomString:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},GenUID:function(){return m.randomString()+"-"+m.randomString()+"-"+m.randomString()+"-"+m.randomString()+"-"+m.randomString()+"-"+m.randomString()},createWebComponent:function(n,e){b.String&&(n=JSON.parse(n)),v.innerHTML+=n.css,p.appendChild(T().script(n.js+("\nCraft.WebComponents.push('"+e+"')"),"webcomponent="+n.name,!0))},newComponent:function(n,e){if(b.Undef(e))throw new Error("Craft.newComponent : "+n+" -> config is undefined");var r=Object.create(HTMLElement.prototype),u={};t(e,function(n,e){"created"===e?r.createdCallback=n:"inserted"===e?r.attachedCallback=n:"destroyed"===e?r.detachedCallback=n:"attr"===e?r.attributeChangedCallback=n:"extends"===e?u["extends"]=n:r[e]=n}),u.prototype=r,document.registerElement(n,u)},applyBinds:function(n,e){var t=e?e.get(n):m.Binds.get(n),u=b.ReactiveVariable(t)?t.val:t;r('[input-bind="'+n+'"],[view-bind="'+n+'"]',function(n){return"INPUT"===n.tagName||"TEXTAREA"===n.tagName?n.value=u:n.innerHTML=u;
})},newBind:function(n,e,t,r){b.Func(t)?m.Binds.set(n,new w(e,t)):r?r.set(n,e):m.Binds.set(n,e),m.applyBinds(n,r)},setBind:function(n,e,t){var r=t?t.get(n):m.Binds.get(n);b.ReactiveVariable(r)?r.set(e):t?t.set(n,e):m.Binds.set(n,e),m.applyBinds(n)},getBind:function(n,e){var t=e?e.get(n):m.Binds.get(n);return b.ReactiveVariable(t)?t.val:t},BindExists:function(n,e){return e?e.has(n):m.Binds.has(n)}},m.loader.removeAll(!0),u("animationstart",n,function(n){"NodeInserted"===n.animationName&&b.Node(n.target)&&!function(){var e=n.target;if(e.hasAttribute("input-bind")&&!function(){var n=e.getAttribute("input-bind"),t="INPUT"===e.tagName||"TEXTAREA"===e.tagName,r=u("input",e,function(){return m.setBind(n,t?e.value:e.innerHTML)}),o=new MutationObserver(function(n){n.forEach(function(n){"attributes"===n.type&&"input-bind"===n.attributeName&&e.hasAttribute("input-bind")===!1&&(r.Off(),o.disconnect())})});o.observe(e,{attributes:!0}),m.BindExists(n)?m.applyBinds(n):m.newBind(n,t?e.value:e.innerHTML)}(),e.hasAttribute("view-bind")){var t=e.getAttribute("view-bind");m.BindExists(t)?m.applyBinds(t):m.newBind(t,"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)}e.hasAttribute("link")&&u("click",e,function(n){return e.hasAttribute("newtab")?open(e.getAttribute("link")):m.router.open(e.getAttribute("link"))})}()}),u("resize",m.throttle(450,function(n){return m.ResizeHandlers.runEach(n)})),u("mousemove",function(n){m.mouse.observe===!0&&(m.mouse.x=n.clientX,m.mouse.y=n.clientY,m.mouse.over=n.target)}),u("blur",function(n){return m.tabActive=!1}),u("focus",function(n){return m.tabActive=!0}),m.newComponent("fetch-webcomponent",{inserted:function(){var n=this;if(this.hasAttribute("src")){var e=function(){var e=null,t=n.getAttribute("src");return m.WebComponents.includes(t)?{v:!1}:(n.hasAttribute("cache-component")&&(e=localStorage.getItem(t),null!==e&&m.createWebComponent(e,t)),void(null===e&&fetch(t).then(function(e){return e.json().then(function(e){v.innerHTML+=e.css,p.appendChild(T().script(e.js+("\nCraft.WebComponents.push('"+t+"')"),"webcomponent="+e.name,!0)),"true"===n.getAttribute("cache-component")&&localStorage.setItem(t,JSON.stringify(e))})})["catch"](function(n){return console.error(n+": could not load webcomponent")})))}();if("object"===("undefined"==typeof e?"undefined":_typeof(e)))return e.v}}}),o("DOMContentLoaded",function(n){m.router.links.forEach(function(n){return n()}),m.WebComponents.length===x("fetch-webcomponent").length?g=!0:m.poll(function(){return m.WebComponents.length===x("fetch-webcomponent").length},35,2e3,function(){return g=!0},function(){console.warn("loading is taking longer than usual :("),g=!0})}),u("hashchange",function(n){return m.router.handlers.forEach(function(n){return location.hash===n.link||location===n.link?n.func(location.hash):null})}),e.is=b,e.dom=T,e.Craft=m,e.On=u,e.Once=o,e.forEach=t,e.QueryOrNodetoNodeArray=S,e.FunctionIterator=C,e.CraftSocket=k,e.EventHandler=D,e.ReactiveVariable=w,e.query=E,e.queryAll=x,e.queryEach=r}(document,self);