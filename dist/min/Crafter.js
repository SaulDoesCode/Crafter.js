/*
 *  Saul's Crafter JS
 *  License MIT
 *   /[^{}]+(?=\})/g    find between curly braces
 */
"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n}var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),ua=navigator.userAgent,tem,M=ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);M&&null!=(tem=ua.match(/version\/([\.\d]+)/i))&&(M[2]=tem[1]),M?[M[1],M[2]]:[navigator.appName,navigator.appVersion,"-?"],window.CurrentBrowser={is:function(n){return CurrentBrowser.browser.toLowerCase().includes(n.toLowerCase())?!0:!1},browser:M.join(" ")},function(){var n=function(n,e){return toString.call(n)===e},e=function(n,e){return("undefined"==typeof n?"undefined":_typeof(n))===e},t=function(n,e){return("undefined"==typeof n?"undefined":_typeof(n))!==e};window.is={Func:function(n){return"function"==typeof n},Bool:function(n){return"boolean"==typeof n},Undef:function(){if(arguments.length>1){for(var n=0;n<arguments.length;n++)if("undefined"==typeof arguments[n])return!1;return!0}return e(arguments[0],"undefined")},Def:function(){if(arguments.length>1){for(var n=0;n<arguments.length;n++)if(t(arguments[n],"undefined"))return!1;return!0}return t(arguments[0],"undefined")},Arr:function(n){return Array.isArray(n)},String:function(n){return e(n,"string")},Num:function(n){return e(n,"number")},Null:function(n){if(arguments.length>1){for(var e=0;e<arguments.length;e++)if(null===arguments[e])return!0;return!1}return null===n},Node:function(n){function e(e){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(n){if(arguments.length>1){for(var e=0;e<arguments.length;e++)if(is.Null(arguments[e])||!(arguments[e]instanceof Node))return!1;return!0}return!is.Null(n)&&n instanceof Node}),NodeList:function(n){function e(e){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(n){if(arguments.length>1){for(var e=0;e<arguments.length;e++)if(null===arguments[e]||!(arguments[e]instanceof NodeList))return!1;return!0}return!is.Null(n)&&n instanceof NodeList}),File:function(e){return n(e,"[object File]")},FormData:function(e){return n(e,"[object FormData]")},Blob:function(e){return n(e,"[object Blob]")},Object:function(e){return n(e,"[object Object]")},RegExp:function(e){return n(e,"[object RegExp]")},Date:function(e){return n(e,"[object Date]")},Map:function(e){return n(e,"[object Map]")},Set:function(e){return n(e,"[object Set]")},Symbol:function(e){return n(e,"[object Symbol]")},Element:function(e){return n(e,"[object HTMLElement]")},UpperCase:function(n){return n>="A"&&"Z">=n},Email:function(n){return/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(n)},Native:function(n){var e="undefined"==typeof n?"undefined":_typeof(n);return"function"===e?RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$").test(Function.prototype.toString.call(n)):n&&"object"==e&&/^\[object .+?Constructor\]$/.test(n.toString)||!1},Between:function(n,e,t){return e>=n&&n>=t},lt:function(n,e){return e>n},lte:function(n,e){return e>=n}},window.forEach=function(n,e){if(is.Func(e)){var t=0;if(is.Arr(n)||is.NodeList(n)||is.String(n))for(;t<n.length;t++)e(n[t],t);else if(is.Object(n))for(t in n)n.hasOwnProperty(t)&&e(n[t],t)}else log("err","No Function Provided for forEach")},window.query=function(n,e){return is.Undef(e)?document.querySelector(n):e.querySelector(n)},window.queryAll=function(n,e){return is.Undef(e)?document.querySelectorAll(n):e.querySelectorAll(n)},window.$=function(n,e,t){var r=queryAll(n);if(!is.Null(r)){if(r.length>1||e===!0&&is.NodeList(r))return t?r:craft(r);if(is.Node(r[0])||e===!1)return t?r[0]:craft(r[0])}return null},window.log=function(n,e){switch(n){case"err":console.error(e);break;case"warn":console.warn(e);break;case"success":console.log("%c"+e,"color:green;");break;case"info":console.info(e);break;default:console.log(n)}},window.On=function(n,e,t){is.Def(e)&&(is.String(e)?forEach(queryAll(e),function(e){return e.addEventListener(n,function(n){return t(n,n.target)})}):is.Node(e)||e===window||e===document?e.addEventListener(n,function(n){return t(n,n.target)}):is.NodeList(e)?forEach(e,function(e){return e.addEventListener(n,function(n){return t(n,n.target)})}):is.Func(e)&&window.addEventListener(n,function(n){return e(n,n.target)}))},window.Off=function(n,e,t){void 0!==e&&(is.String(e)?forEach(queryAll(e),function(e){return e.removeEventListener(n,function(n){return t(n,n.target)})}):is.Node(e)||e===window||e===document?e.removeEventListener(n,function(n){return t(n,n.target)}):is.NodeList(e)?forEach(e,function(e){return e.removeEventListener(n,function(n){return t(n,n.target)})}):is.Func(e)&&window.removeEventListener(n,function(n){return e(n,n.target)}))},window.craft=function(n){return is.NodeList(n)?(n.forEach=function(e){if(is.Func(e))for(var t=0;t<n.length;t++)e(craft(n[t]),t);else log("err","No function Provided for NodeList.forEach")},n.On=function(e,t){return On(e,n,t),n},n.Off=function(e,t){return n.forEach(function(n,r){return n.removeEventListener(e,function(n){return is.Def(n.target)&&is.Node(n.target)?t(n,craft(n.target),r):t(n,n.target,r)})}),n},n.includes=function(e){if(is.String(e)&&(e=query(e)),is.Node(e))for(var t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},n.css=function(e){return is.Def(e)?forEach(n,function(n){return forEach(e,function(e,t){return n.style[t]=e})}):log("err","invalid styles")}):is.Node(n)&&(n.getSiblings=function(){for(var e=[],t=n.parentNode.childNodes,r=0;r<t.length;r++)t[r]!==n&&e.push(t[r]);return e},n.getWidth=function(){return n.getBoundingClientRect().width},n.getHeight=function(){return n.getBoundingClientRect().height},n.getRect=function(){return n.getBoundingClientRect()},n.On=function(e,t){return On(e,n,t),n},n.find=function(e,t,r){var o=queryAll(e,n);return o.length>1||t===!0&&!is.Null(o)&&is.NodeList(o)?craft(o):!is.Null(o)&&is.Node(o[0])?r===!1?o[0]:craft(o[0]):null},n.replace=function(e){return n.parentNode.replaceChild(e,n)},n.remove=function(){return n.parentNode.removeChild(n)},n.append=function(e){return is.String(e)?n.innerHTML+=e:n.appendChild(n),n},n.prepend=function(e){return is.String(e)?n.innerHTML=e+n.innerHTML:n.insertBefore(e,n.firstChild),n},n.hasChild=function(e){return is.String(e)&&(e=query(e,n)),is.Node(e)&&!is.Null(e)?!0:!1},n.hasClass=function(e,t){var r=!1;return r=n.classList.contains(e)?!0:!1,is.Def(t)&&is.Func(t)&&t(r),r},n.isTag=function(e,t){return n.tagName===e.toUpperCase()?(is.Def(t)&&is.Func(t)&&t(craft(n)),!0):!1},n.css=function(e){return is.Def(e)?forEach(e,function(e,t){return n.style[t]=e}):log("err","Styles Object undefined")},n.hide=function(e,t){function r(){n.style.transition="opacity "+e+"ms "+t,n.style.opacity="0",n.effectInProgress={status:!0,type:"hide"},setTimeout(function(){n.style.display="none",n.style.transition="",n.effectInProgress={status:!1,type:"none"}},e)}if(is.Undef(t)&&(t="linear"),is.Undef(e)&&(e=0),is.Def(n.effectInProgress)&&n.effectInProgress.status===!0)var o=setInterval(function(){n.effectInProgress.status===!1&&(r(),clearInterval(o))},10);else r();return n},n.show=function(e,t){function r(){n.style.transition="opacity "+e+"ms "+t,n.style.display="",n.style.opacity="1",n.effectInProgress={status:!0,type:"show"},setTimeout(function(){n.style.opacity="",n.style.transition="",n.effectInProgress={status:!1,type:"none"}},e)}if(is.Undef(t)&&(t="linear"),is.Undef(e)&&(e=0),is.Def(n.effectInProgress)&&n.effectInProgress.status===!0)var o=setInterval(function(){n.effectInProgress.status===!1&&(r(),clearInterval(o))},10);else r();return n}),is.String(n)?$(n):n},window.Craft={ArraytoObject:function(n){var e={};for(var t in n)is.Def(n[t])&&(e[t]=n[t]);return e},IndexOfArrInArr:function(n,e){for(var t=0;t<e.length;t++)if(n[0]===e[t])for(var r=0;r<n.length&&n[r]===e[t+r];r++)if(r==n.length-1)return t;return-1},bindNode:function(n,e,t){var r,o=is.Node(n)?n:query(n);is.Func(e)&&(t=e,e=Craft.Scope),!is.Null(o)&&is.Def(t)&&is.Func(t)?(o.isbound=!0,Object.observe(e,function(n){o.isbound&&n.forEach(function(n){r=n,t(o,n)})}),t(o,r)):log("err","No matching element")},unbindNode:function(n,e){var t=is.Node(n)?n:query(n);is.Null(t)?log("err","No matching element"):(t.isbound=!1,e(t))},after:function(n,e){if(!is.Func(e))if(is.Func(n)){var t=n;n=e,e=t}else log("err","after : func is not a function");return n=Number.isFinite(n=+n)?n:0,function(){return--n<1?e.apply(this,arguments):void 0}},debounce:function(n,e,t){var r;return function(){var o=this,i=arguments,u=function(){r=null,t||e.apply(o,i)},c=t&&!r;clearTimeout(r),r=setTimeout(u,n),c&&e.apply(o,i)}},throttle:function(n,e,t){var r,o,i,u=null,c=0;t||(t={});var s=function(){c=t.leading===!1?0:Date.now(),u=null,i=e.apply(r,o),u||(r=o=null)};return function(){var a=Date.now();c||t.leading!==!1||(c=a);var f=n-(a-c);return r=this,o=arguments,0>=f||f>n?(u&&(clearTimeout(u),u=null),c=a,i=e.apply(r,o),u||(r=o=null)):u||t.trailing===!1||(u=setTimeout(s,f)),i}},once:function(n,e){var t;return function(){return is.Func(n)&&(t=n.apply(e||this,arguments),n=null),t}},css:function(n,e){return is.Def(e,n)&&is.Node(n)?forEach(e,function(e,t){return n.style[t]=e}):log("err","invalid args")},hasCapitals:function(n){for(var e=0;e<n.length;e++)if(is.UpperCase(n[e]))return!0;return!1},OverrideFunction:function(n,e,t){for(var r=n.split("."),o=r.pop(),i=0;i<r.length;i++)t=t[r[i]];t[o]=e},concatObjects:function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;e>r;r++)t[r-1]=arguments[r];return forEach(n,function(){t.forEach(function(e){forEach(e,function(e,t){t in n?is.Arr(n[t])?n[t].includes(e)||n[t].push(e):e!==n[t]&&(n[t]=[e,n[t]]):n[t]=e})})}),n},mergeObjects:function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;e>r;r++)t[r-1]=arguments[r];return Object.assign(n,t)},len:function(n){if(is.Object(n))return Object.keys(n).length;if(is.Map(n)||is.Set(n))return n.size;var e=void 0;try{e=n.length}catch(t){try{e=n.size}catch(r){log("err","could not find length of value")}}return e},indexOfDate:function(n,e){for(var t=0;t<(void 0).length;t++)if(+(void 0)[t]===+e)return t;return-1},removeArrItem:function(n,e){for(var t=n.IndexOf(e),r=[],o=0;o<n.length;o++)o!==t&&r.push(n[o]);return r},omit:function(n,e){return is.Object(n)?(n!==e&&forEach(n,function(t,r){(e===r||e===t)&&delete n[r]}),n.hasOwnProperty(e)&&log("err","couldn't omit "+e+"from Object")):(is.Arr(n)||is.String(n))&&(n.forEach(function(t){e===t&&(n=Craft.removeArrItem(n,t))}),-1!==e.IndexOf(i)&&log("err","couldn't omit "+e+"from Array or String")),n},Scope:{},mouse:{x:0,y:0},nodeExists:function(n,e){return is.Node(e)?null!==queryAll(n,e):null!==queryAll(n)},ObjToFormData:function(n){var e,t=new FormData;for(e in n)t.append(e,n[e]);return t},URLfrom:function(n){return URL.createObjectURL(new Blob([n]))},cookie:{getItem:function(n){return n?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(n,e,t,r,o,i){if(!n||/^(?:expires|max\-age|path|domain|secure)$/i.test(n))return!1;var u="";return t&&(is.Num(t)?u=t===1/0?"; expires=Fri, 11 April 9997 23:59:59 GMT":"; max-age="+t:is.String(t)?u="; expires="+t:is.Date(t)?u="; expires="+t.toUTCString():log("err","Expiry date is not a Number/String/Date")),document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)+u+(o?"; domain="+o:"")+(r?"; path="+r:"")+(i?"; secure":""),!0},removeItem:function(n,e,t){return Craft.cookie.itemExists(n)?(document.cookie=encodeURIComponent(n)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(e?"; path="+e:""),!0):!1},itemExists:function(n){return n?new RegExp("(?:^|;\\s*)"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},CookieKeys:function(){for(var n=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=n.length,t=0;e>t;t+=1)n[t]=decodeURIComponent(n[t]);return n}},OnResize:function(n){return is.Func(n)?Craft.ResizeHandlers.add(n):log("err","TypeError : Craft.OnResize -> func is not a function")},router:{handle:function(n,e){(location.hash===n||location===n)&&e(),Craft.router.handlers.push({link:n,func:e})},handlers:[],links:[],makeLink:function(n,e,t,r){return Craft.router.links.push(function(){return On(is.Undef(r)?"click":r,query(n),function(n){return Craft.router.open(e,t)})})},open:function(n){function e(e,t){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(n,e){return e?open(n):location=n}),setTitle:function(n){return document.title=n},setView:function(n,e){return query(n).innerHTML=e},fetchView:function(n,e,t,r){is.Null(localStorage.getItem("RT_"+r))||is.Undef(localStorage.getItem("RT_"+r))?fetch(e).then(function(e){e.text().then(function(e){t&&is.Def(r)&&is.String(r)&&(is.Null(localStorage.getItem("RT_"+r))||is.Undef(localStorage.getItem("RT_"+r)))&&localStorage.setItem("RT_"+r,e),query(n).innerHTML=e})})["catch"](function(n){return log("warn","Could not fetch view -> "+n)}):t&&(query(n).innerHTML=localStorage.getItem("RT_"+r))},clearCache:function(){for(var n in localStorage)localStorage.key(n).includes("RT_")&&localStorage.removeItem(localStorage.key(n))}},randomString:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},GenUID:function(){return Craft.randomString()+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+Craft.randomString()+Craft.randomString()},newComponent:function(n,e){if(is.Undef(e))log("err","Invalid Component Configuration");else{var t=Object.create(HTMLElement.prototype);forEach(e,function(n,e){"created"===e?t.createdCallback=n:"inserted"===e?t.attachedCallback=n:"destroyed"===e?t.detachedCallback=n:"attr"===e?t.attributeChangedCallback=n:is.Func(n)?t[e]=n:"extends"===e||is.Func(n)||(t[e]=n)}),"extends"in e?document.registerElement(n,{prototype:t,"extends":e["extends"]}):document.registerElement(n,{prototype:t})}}},window.FunctionIterator=function(){function n(){_classCallCheck(this,n),this.functions={},this.length=Object.keys(this.functions).length}return _createClass(n,[{key:"has",value:function(n){return this.functions.has(n)?!0:!1}},{key:"add",value:function(n,e){is.Func(e)?this.functions[n]=e:is.Func(n)?this.functions[Craft.randomString()]=n:log("err","Invalid function parameter in FunctionIterator.add(funcName , _function_ )"),this.length=Object.keys(this.functions).length}},{key:"remove",value:function(n){this.functions.has(n)?(this.functions[n]=null,delete this.functions[n]):log("warn","No Such Function Entry in FunctionIterator"),this.length=Object.keys(this.functions).length}},{key:"removeAll",value:function(){delete this.functions,this.functions=null,this.functions={},this.length=Object.keys(this.functions).length}},{key:"runEach",value:function(){for(var n in this.functions)this.functions[n].apply(this,arguments)}},{key:"runOne",value:function(n,e){this.functions.hasOwnProperty(n)?this.functions[n].apply(this,e,arguments):log("warn","No Such Function Entry in FunctionIterator")}}]),n}(),Craft.ResizeHandlers=new FunctionIterator,window.onresize=Craft.throttle(450,function(n){return Craft.ResizeHandlers.runEach(n)}),window.onmousemove=function(n){Craft.mouse.x=n.clientX,Craft.mouse.y=n.clientY};var r=!1,o=!1;On("DOMContentLoaded",function(){forEach(queryAll("[link]"),function(n){return On("click",n,function(e){return n.hasAttribute("newtab")?open(n.getAttribute("link")):Craft.router.open(n.getAttribute("link"))})}),Craft.router.links.forEach(function(n){return n()}),r=!0}),On("WebComponentsReady",function(n){o=r,setTimeout(function(){o||(o=!0)},3500)}),window.WhenReady=function(){return new Promise(function(n,e){if(o)Current.browser.includes("Firefox")?setTimeout(function(){return n(Craft.Scope)},600):n(Craft.Scope);else{var t=setInterval(function(){o&&(CurrentBrowser.browser.includes("Firefox")||CurrentBrowser.browser.includes("msie")?(setTimeout(function(){return n(Craft.Scope)},650),n(Craft.Scope)):n(Craft.Scope),clearInterval(t))},50);setTimeout(function(){o||e("WebComponents didn't load correctly/intime -> load failed")},4500)}})},On("hashchange",function(n){return Craft.router.handlers.forEach(function(n){return location.hash===n.link||location===n.link?n.func():null})}),Object.observe(Craft.Scope,function(n){n.forEach(function(n){forEach(queryAll("[view-bind]"),function(n){is.Def(Craft.Scope[n.getAttribute("view-bind")])&&(n.innerHTML=Craft.Scope[n.getAttribute("view-bind")])})})})}();