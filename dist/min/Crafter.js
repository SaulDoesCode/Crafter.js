/*
 *  Saul's Crafter JS
 *  License MIT
 *   /[^{}]+(?=\})/g    find between curly braces
 */
"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n}var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();!function(){var n=navigator.userAgent,e=void 0,t=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);t&&null!==(e=n.match(/version\/([\.\d]+)/i))&&(t[2]=e[1]),t?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],self.CurrentBrowser={is:function(n){return CurrentBrowser.browser.toLowerCase().includes(n.toLowerCase())?!0:!1},browser:t.join(" ")};var r=function(n,e){return toString.call(n)===e},o=function(n,e){return("undefined"==typeof n?"undefined":_typeof(n))===e},u=function(n,e){return("undefined"==typeof n?"undefined":_typeof(n))!==e},c=self,a=document;c.is={Bool:function(n){return"boolean"==typeof n},Arr:function(n){return Array.isArray(n)},String:function(n){return o(n,"string")},Num:function(n){return o(n,"number")},Undef:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return o(n,"undefined")})},Def:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return u(n,"undefined")})},Null:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return null===n})},Node:function(n){function e(){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return n instanceof Node})}),NodeList:function(n){function e(){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return n instanceof NodeList})}),Object:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return r(n,"[object Object]")})},Element:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return r(n,"[object HTMLElement]")})},File:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return r(n,"[object File]")})},FormData:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return r(n,"[object FormData]")})},Func:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return e.every(function(n){return"function"==typeof n})},Blob:function(n){return r(n,"[object Blob]")},RegExp:function(n){return r(n,"[object RegExp]")},Date:function(n){return r(n,"[object Date]")},Map:function(n){return r(n,"[object Map]")},Set:function(n){return r(n,"[object Set]")},Symbol:function(n){return r(n,"[object Symbol]")},UpperCase:function(n){return n>="A"&&"Z">=n},Email:function(n){return/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(n)},Between:function(n,e,t){return e>=n&&n>=t},lt:function(n,e){return e>n},lte:function(n,e){return e>=n},bt:function(n,e){return n>e},bte:function(n,e){return n>=e},Native:function(n){var e="undefined"==typeof n?"undefined":_typeof(n);return"function"===e?RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$").test(Function.prototype.toString.call(n)):n&&"object"==e&&/^\[object .+?Constructor\]$/.test(n.toString)||!1}},c.forEach=function(n,e){if(is.Func(e)){var t=0;if(is.Object(n))for(t in n)n.hasOwnProperty(t)&&e(n[t],t);else for(;t<n.length;t++)e(n[t],t)}else log("err","No Function Provided for forEach")},c.query=function(n,e){return is.Def(e)?e.querySelector(n):a.querySelector(n)},c.queryAll=function(n,e){return is.Def(e)?e.querySelectorAll(n):a.querySelectorAll(n)},c.$=function(n,e){var t=queryAll(n);return t.length>1||e===!0||"*"===e?craft(t):is.Null(t[0])||e!==!1?null:craft(t[0])},c.log=function(n,e){switch(n){case"err":console.error(e);break;case"warn":console.warn(e);break;case"success":console.log("%c"+e,"color:green;");break;case"info":console.info(e);break;default:console.log(n)}},c.On=function(n,e,t){is.Def(e)&&(is.String(e)?forEach(queryAll(e),function(e){return e.addEventListener(n,function(n){return t(n,e)})}):is.Node(e)||e===c||e===a?e.addEventListener(n,function(n){return t(n,e)}):is.NodeList(e)?forEach(e,function(e){return e.addEventListener(n,function(n){return t(n,e)})}):is.Func(e)&&c.addEventListener(n,function(n){return e(n,n.target)}))},c.Off=function(n,e,t){void 0!==e&&(is.String(e)?forEach(queryAll(e),function(e){return e.removeEventListener(n,function(n){return t(n,n.target)})}):is.Node(e)||e===c||e===a?e.removeEventListener(n,function(n){return t(n,n.target)}):is.NodeList(e)?forEach(e,function(e){return e.removeEventListener(n,function(n){return t(n,n.target)})}):is.Func(e)&&c.removeEventListener(n,function(n){return e(n,n.target)}))};var f=function(n){var e=+new Date,t=n.key||n.url,r=Craftloader.get(t);return r||r.expire-e>0?new Promise(function(n){return n(r)}):new Promise(function(r,o){return fetch(n.url).then(function(o){return o.text().then(function(o){n.data=o,n.stamp=e,n.expire=e+60*(n.expire||4e3)*60*1e3,n.cache&&localStorage.setItem(Craftloader.pre+t,JSON.stringify(n)),r(n)})})["catch"](function(n){return o("Craftloader: problem fetching import -> "+n)})})},s=function(n){return n.map(function(n){var e="css"===n.type?a.createElement("style"):a.createElement("script");e.defer=n.defer||void 0,e.innerHTML=n.data,n.exec&&a.head.appendChild(e)})},l=function(n){return n.includes(Craftloader.pre)?n:Craftloader.pre+n};c.Craftloader={pre:"craft:",Import:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];var r=void 0,o=[];return e.forEach(function(n){r={url:n.css||n.script,type:n.css?"css":"script",exec:n.execute!==!1,cache:n.noCache!==!1},is.Def(n.key)&&(r.key=n.key),is.Def(n.defer)&&(r.defer=n.defer),is.Def(n.expire)&&(r.expire=n.expire),n.test===!1?Craftloader.remove(r.url):o.push(f(r))}),Promise.all(o).then(s)},setPrekey:function(n){return Craftloader.pre=n+":"},get:function(n){return JSON.parse(localStorage.getItem(l(n))||!1)},remove:function(n){return localStorage.removeItem(l(n))},removeAll:function(n){for(var e in localStorage)(!n||Craftloader.get(e).expire<=+new Date)&&Craftloader.remove(e)}},Craftloader.removeAll(!0),c.CraftRouter={handle:function(n,e){(location.hash===n||location===n)&&e(),Craft.router.handlers.push({link:n,func:e})},handlers:[],links:[],makeLink:function(n,e,t,r){return Craft.router.links.push(function(){return On(is.Undef(r)?"click":r,query(n),function(n){return Craft.router.open(e,t)})})},open:function(n){function e(e,t){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(n,e){return e?open(n):location=n}),setTitle:function(n){return document.title=n},setView:function(n,e){return query(n).innerHTML=e},fetchView:function(n,e,t,r){is.Null(localStorage.getItem("RT_"+r))||is.Undef(localStorage.getItem("RT_"+r))?fetch(e).then(function(e){e.text().then(function(e){t&&is.Def(r)&&is.String(r)&&(is.Null(localStorage.getItem("RT_"+r))||is.Undef(localStorage.getItem("RT_"+r)))&&localStorage.setItem("RT_"+r,e),query(n).innerHTML=e})})["catch"](function(n){return log("warn","Could not fetch view -> "+n)}):t&&(query(n).innerHTML=localStorage.getItem("RT_"+r))},clearCache:function(){for(var n in localStorage)localStorage.key(n).includes("RT_")&&localStorage.removeItem(localStorage.key(n))}},c.craft=function(n){return is.NodeList(n)?(n.forEach=function(e){if(is.Func(e))for(var t=0;t<n.length;t++)e(craft(n[t]),t);else log("err","No function Provided for NodeList.forEach")},n.On=function(e,t){return On(e,n,t),n},n.Off=function(e,t){return n.forEach(function(n,r){return n.removeEventListener(e,function(n){return is.Def(n.target)&&is.Node(n.target)?t(n,craft(n.target),r):t(n,n.target,r)})}),n},n.includes=function(e){is.Node(e)||(e=query(e));for(var t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},n.css=function(e){return is.Def(e)?forEach(n,function(n){return forEach(e,function(e,t){return n.style[t]=e})}):log("err","invalid styles")}):is.Node(n)&&(n.getSiblings=function(){for(var e=[],t=n.parentNode.childNodes,r=0;r<t.length;r++)t[r]!==n&&e.push(t[r]);return e},n.getWidth=function(){return n.getBoundingClientRect().width},n.getHeight=function(){return n.getBoundingClientRect().height},n.getRect=function(){return n.getBoundingClientRect()},n.setWidth=function(e){return n.style.width=Height},n.setHeight=function(e){return n.style.height=e},n.On=function(e,t){return On(e,n,t),n},n.find=function(e,t,r){var o=queryAll(e,n);return o.length>1||t===!0&&!is.Null(o)?craft(o):is.Null(o)?null:craft(o[0])},n.replace=function(e){return n.parentNode.replaceChild(e,n)},n.remove=function(){return n.parentNode.removeChild(n)},n.append=function(e){return is.String(e)?n.innerHTML+=e:n.appendChild(n),n},n.prepend=function(e){return is.String(e)?n.innerHTML=e+n.innerHTML:n.insertBefore(e,n.firstChild),n},n.hasChild=function(e){return is.Node(e)||(e=query(e,n)),is.Null(e)?!1:!0},n.hasClass=function(e,t){return is.Func(t)&&t(n.classList.contains(e)),n.classList.contains(e)},n.isTag=function(e,t){return n.tagName===e.toUpperCase()?(is.Func(t)&&t(craft(n)),!0):!1},n.css=function(e){return is.Def(e)?forEach(e,function(e,t){return n.style[t]=e}):log("err","Styles Object undefined")},n.hide=function(e,t){function r(){n.style.transition="opacity "+e+"ms "+t,n.style.opacity="0",n.effectInProgress={status:!0,type:"hide"},setTimeout(function(){n.style.display="none",n.style.transition="",n.effectInProgress={status:!1,type:"none"}},e)}return t=t||"linear",e=e||0,is.Def(n.effectInProgress)&&n.effectInProgress.status===!0?!function(){var e=setInterval(function(){n.effectInProgress.status===!1&&(r(),clearInterval(e))},10)}():r(),n},n.show=function(e,t){function r(){n.style.transition="opacity "+e+"ms "+t,n.style.display="",n.style.opacity="1",n.effectInProgress={status:!0,type:"show"},setTimeout(function(){n.style.opacity="",n.style.transition="",n.effectInProgress={status:!1,type:"none"}},e)}return is.Undef(t)&&(t="linear"),is.Undef(e)&&(e=0),is.Def(n.effectInProgress)&&n.effectInProgress.status===!0?!function(){var e=setInterval(function(){n.effectInProgress.status===!1&&(r(),clearInterval(e))},10)}():r(),n}),is.String(n)?$(n):n},c.Craft={ArraytoObject:function(n){var e={};for(var t in n)is.Def(n[t])&&(e[t]=n[t]);return e},IndexOfArrInArr:function(n,e){for(var t=0;t<e.length;t++)if(n[0]===e[t])for(var r=0;r<n.length&&n[r]===e[t+r];r++)if(r==n.length-1)return t;return-1},bindNode:function(n,e,t){var r=is.Node(n)?n:query(n),o=void 0;is.Func(e)&&(t=e,e=Craft.Scope),!is.Null(r)&&is.Def(t)&&is.Func(t)?(r.isbound=!0,Object.observe(e,function(n){r.isbound&&n.forEach(function(n){o=n,t(r,n)})}),t(r,o)):log("err","No matching element")},unbindNode:function(n,e){var t=is.Node(n)?n:query(n);is.Null(t)?log("err","No matching element"):(t.isbound=!1,e(t))},after:function(n,e){if(!is.Func(e))if(is.Func(n)){var t=n;n=e,e=t}else log("err","after : func is not a function");return n=Number.isFinite(n=+n)?n:0,function(){return--n<1?e.apply(this,arguments):void 0}},debounce:function(n,e,t){var r=void 0;return function(){var o=this,i=arguments,u=function(){r=null,t||e.apply(o,i)},c=t&&!r;clearTimeout(r),r=setTimeout(u,n),c&&e.apply(o,i)}},throttle:function(n,e,t){var r=void 0,o=void 0,i=void 0,u=null,c=0;t||(t={});var a=function(){c=t.leading===!1?0:Date.now(),u=null,i=e.apply(r,o),u||(r=o=null)};return function(){var f=Date.now();c||t.leading!==!1||(c=f);var s=n-(f-c);return r=this,o=arguments,0>=s||s>n?(u&&(clearTimeout(u),u=null),c=f,i=e.apply(r,o),u||(r=o=null)):u||t.trailing===!1||(u=setTimeout(a,s)),i}},once:function(n,e){var t=void 0;return function(){return is.Func(n)&&(t=n.apply(e||this,arguments),n=null),t}},css:function(n,e){return is.Def(e,n)&&is.Node(n)?forEach(e,function(e,t){return n.style[t]=e}):log("err","invalid args")},hasCapitals:function(n){for(var e=0;e<n.length;e++)if(is.UpperCase(n[e]))return!0;return!1},OverrideFunction:function(n,e,t){for(var r=n.split("."),o=r.pop(),i=0;i<r.length;i++)t=t[r[i]];t[o]=e},concatObjects:function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;e>r;r++)t[r-1]=arguments[r];return forEach(n,function(){t.forEach(function(e){forEach(e,function(e,t){t in n?is.Arr(n[t])?n[t].includes(e)||n[t].push(e):e!==n[t]&&(n[t]=[e,n[t]]):n[t]=e})})}),n},mergeObjects:function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;e>r;r++)t[r-1]=arguments[r];return Object.assign(n,t)},len:function(n){if(is.Object(n))return Object.keys(n).length;if(is.Map(n)||is.Set(n))return n.size;try{return n.length}catch(e){log("err","could not find length of value")}},indexOfDate:function(n,e){for(var t=0;t<n.length;t++)if(+n[t]===+e)return t;return-1},removeArrItem:function(n,e){for(var t=n.IndexOf(e),r=[],o=0;o<n.length;o++)o!==t&&r.push(n[o]);return r},omit:function(n,e){return is.Object(n)?(n!==e&&forEach(n,function(t,r){(e===r||e===t)&&delete n[r]}),n.hasOwnProperty(e)&&log("err","couldn't omit "+e+"from Object")):(is.Arr(n)||is.String(n))&&(n.forEach(function(t){e===t&&(n=Craft.removeArrItem(n,t))}),-1!==e.IndexOf(i)&&log("err","couldn't omit "+e+"from Array or String")),n},Scope:{},mouse:{x:0,y:0},nodeExists:function(n,e){return null!==queryAll(n,e=is.Node(e)?e:query(e))},ObjToFormData:function(n){var e=new FormData,t=void 0;for(t in n)e.append(t,n[t]);return e},URLfrom:function(n){return URL.createObjectURL(new Blob([n]))},OnResize:function(n){return is.Func(n)?Craft.ResizeHandlers.add(n):log("err","TypeError : Craft.OnResize -> func is not a function")},randomString:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},GenUID:function(){return Craft.randomString()+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+"-"+Craft.randomString()+Craft.randomString()+Craft.randomString()},newComponent:function(n,e){is.Undef(e)?log("err","Invalid Component Configuration"):!function(){var t=Object.create(HTMLElement.prototype);forEach(e,function(n,e){"created"===e?t.createdCallback=n:"inserted"===e?t.attachedCallback=n:"destroyed"===e?t.detachedCallback=n:"attr"===e?t.attributeChangedCallback=n:is.Func(n)?t[e]=n:"extends"===e||is.Func(n)||(t[e]=n)}),"extends"in e?a.registerElement(n,{prototype:t,"extends":e["extends"]}):a.registerElement(n,{prototype:t})}()}},c.FunctionIterator=function(){function n(){_classCallCheck(this,n),this.functions={},this.length=Object.keys(this.functions).length}return _createClass(n,[{key:"has",value:function(n){return this.functions.has(n)?!0:!1}},{key:"add",value:function(n,e){is.Func(e)?this.functions[n]=e:is.Func(n)?this.functions[Craft.randomString()]=n:log("err","Invalid function parameter in FunctionIterator.add(funcName , _function_ )"),this.length=Object.keys(this.functions).length}},{key:"remove",value:function(n){this.functions.has(n)?(this.functions[n]=null,delete this.functions[n]):log("warn","No Such Function Entry in FunctionIterator"),this.length=Object.keys(this.functions).length}},{key:"removeAll",value:function(){delete this.functions,this.functions=null,this.functions={},this.length=Object.keys(this.functions).length}},{key:"runEach",value:function(){for(var n in this.functions)this.functions[n].apply(this,arguments)}},{key:"runOne",value:function(n,e){this.functions.hasOwnProperty(n)?this.functions[n].apply(this,e,arguments):log("warn","No Such Function Entry in FunctionIterator")}}]),n}(),Object.observe(Craft.Scope,function(n){n.forEach(function(n){forEach(queryAll("[view-bind]"),function(n){is.Def(Craft.Scope[n.getAttribute("view-bind")])&&(n.innerHTML=Craft.Scope[n.getAttribute("view-bind")])})})}),Craft.ResizeHandlers=new FunctionIterator,c.onresize=Craft.throttle(450,function(n){return Craft.ResizeHandlers.runEach(n)}),c.onmousemove=function(n){Craft.mouse.x=n.clientX,Craft.mouse.y=n.clientY};var g=!1,d=!1,h=new CustomEvent("CrafterReady");On("DOMContentLoaded",function(){forEach(queryAll("[link]"),function(n){return On("click",n,function(e){return n.hasAttribute("newtab")?open(n.getAttribute("link")):CraftRouter.open(n.getAttribute("link"))})}),CraftRouter.links.forEach(function(n){return n()}),g=!0}),On("WebComponentsReady",function(n){d=g,setTimeout(function(){d||(d=!0)},3500)}),c.WhenReady=function(){return new Promise(function(n,e){d?(c.dispatchEvent(h),Current.browser.includes("Firefox")?setTimeout(function(){return n(Craft.Scope)},600):n(Craft.Scope)):!function(){var t=setInterval(function(){d&&(c.dispatchEvent(h),CurrentBrowser.browser.includes("Firefox")||CurrentBrowser.browser.includes("msie")?setTimeout(function(){return n(Craft.Scope)},650):n(Craft.Scope),clearInterval(t))},50);setTimeout(function(){clearInterval(t),d||e("WebComponents didn't load correctly/intime -> load failed")},4500)}()})},On("hashchange",function(n){return CraftRouter.handlers.forEach(function(n){return location.hash===n.link||location===n.link?n.func():null})})}();